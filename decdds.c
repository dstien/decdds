/*
 * decdds - Midtown Madness 3 CDDS extractor
 * 
 * License: As is
 * Author:  Daniel Stien <daniel@stien.org>
 * URL:     https://github.com/dstien/gameformats
 */

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define CDDS_BANNER          "decdds - Midtown Madness 3 CDDS extractor (2013-09-17)\n\n"
#define CDDS_USAGE           "Usage: decdds [-v] [-q] infile.cdds [outfile.dds]\n"

#define CDDS_MAGIC           0x990F44C8
#define CDDS_DDS_MAGIC       0x20534444
#define CDDS_FLG_ALPHA       0x00000001
#define CDDS_FLG_FOURCC      0x00000004
#define CDDS_FLG_RGB         0x00000040
#define CDDS_FMT_DXT1        0x31545844
#define CDDS_FMT_DXT2        0x32545844
#define CDDS_FMT_DXT3        0x33545844
#define CDDS_FMT_DXT4        0x34545844
#define CDDS_FMT_DXT5        0x35545844
#define CDDS_CAP_CUBE        0x00000200
#define CDDS_CAP_CUBE_POSX   0x00000400
#define CDDS_CAP_CUBE_NEGX   0x00000800
#define CDDS_CAP_CUBE_POSY   0x00001000
#define CDDS_CAP_CUBE_NEGY   0x00002000
#define CDDS_CAP_CUBE_POSZ   0x00004000
#define CDDS_CAP_CUBE_NEGZ   0x00008000
#define CDDS_CAP_VOLUME      0x00200000

#define CDDS_BUFLEN          0x40
#define CDDS_BUFMASK         (CDDS_BUFLEN - 1)
#define CDDS_TAB1_MAX        0x01FF
#define CDDS_TAB2_BITS(x)    ((x) >> 12)
#define CDDS_TAB2_CODE(x)    ((x) & 0x0FFF)
#define CDDS_SEQ_LOOKBACK(x) (((x) - 0x100) >> 3)
#define CDDS_SEQ_LENGTH(x)   (((x) - 0x100) & 7)
#define CDDS_MAX(x, y)       ((x) > (y) ? (x) : (y))

#define CDDS_ERR_USAGE        -1
#define CDDS_ERR_MEM          -2
#define CDDS_ERR_OPEN         -3
#define CDDS_ERR_READ         -4
#define CDDS_ERR_WRITE        -5
#define CDDS_ERR_WRONGTYPE    -6
#define CDDS_ERR_UNSUPPFMT    -7
#define CDDS_ERR_EOFHDR       -8
#define CDDS_ERR_EOFIMG       -9
#define CDDS_ERR_INVALIDHDR  -10
#define CDDS_ERR_INVALIDIMG  -11

// Context variables for decompression routine.
typedef struct ctx_t {
    const uint8_t  *srcptr;
    uint32_t        srcdword;
    int32_t         srcbits;

    const uint32_t *tab1;
    const uint16_t *tab2;

    uint32_t        numbits;
    uint32_t        lookupmask;
    uint32_t        idxcode;
    uint32_t        idxbits;

    uint8_t         buf[CDDS_BUFLEN];
    uint32_t        buflen;
    uint32_t        bufend;
    uint32_t        bufpos;
} ctx_t;

// DDS file header. Must be parsed in order to determine data size.
typedef struct ddshdr_t {
    uint32_t magic;
    uint32_t size;
    uint32_t flags;
    uint32_t height;
    uint32_t width;
    uint32_t plsize;
    uint32_t depth;
    uint32_t mips;
    uint32_t reserved1[11];

    struct {
        uint32_t size;
        uint32_t flags;
        uint32_t fourcc;
        uint32_t rgbbits;
        uint32_t rmask;
        uint32_t gmask;
        uint32_t bmask;
        uint32_t amask;
    } pxfmt;

    struct {
        uint32_t caps1;
        uint32_t caps2;
        uint32_t reserved[2];
    } caps;

    uint32_t reserved2;
} ddshdr_t;

// Data type specific compression code lookup tables.
static const uint32_t g_tab1_hdr[] = {
    0x00010000, 0x03000001, 0x00020001, 0x00030002, 0x00040003, 0x00050004, 0x00060005, 0x00070006,
    0x023A02F6, 0x00070006, 0x021401F4, 0x00060203, 0x0006030B, 0x00070006, 0x00080007, 0x01F70008,
    0x022E0008, 0x00090008, 0x000A0009, 0x023E000A, 0x01EE0266, 0x000A0009, 0x000A01EF, 0x023B023F,
    0x03210009, 0x02FF0368, 0x02640008, 0x0305030E, 0x031B0007, 0x01EB0007, 0x01E10007, 0x00080007,
    0x02FE0008, 0x02DE0008, 0x00080211, 0x00090008, 0x01DC020B, 0x00090008, 0x031901E1, 0x02FA0008,
    0x00090008, 0x000A0009, 0x000B000A, 0x01E202EB, 0x031D02E2, 0x000A0009, 0x000B000A, 0x0202032A,
    0x000A0311, 0x02CC0326, 0x02DF02DD, 0x035E020C, 0x032D0007, 0x02A90007, 0x00080007, 0x02C90008,
    0x0008035F, 0x02C30318, 0x00080007, 0x02E40008, 0x01E10008, 0x03AC0221, 0x0321034B, 0x000602B7,
    0x00060300, 0x00070006, 0x00080007, 0x00090008, 0x000A0009, 0x000B000A, 0x01BE000B, 0x034002E0,
    0x000A01BB, 0x000B000A, 0x000C000B, 0x000D000C, 0x000E000D, 0x000F000E, 0x0010000F, 0x00110010,
    0x030801B1, 0x00100237, 0x02DD0010, 0x00110010, 0x00120011, 0x00130012, 0x00140013, 0x00150014,
    0x00160015, 0x00170016, 0x00180017, 0x00190018, 0x001A0019, 0x001B001A, 0x001C001B, 0x001D001C,
    0x02D8001D, 0x02B8001D, 0x001D0224, 0x02EB001D, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020,
    0x00220021, 0x00230022, 0x00240023, 0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028,
    0x002A0029, 0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030,
    0x00320031, 0x00330032, 0x00340033, 0x00350034, 0x00360035, 0x00370036, 0x00380037, 0x00390038,
    0x003A0039, 0x0285003A, 0x003B003A, 0x003C003B, 0x003D003C, 0x003E003D, 0x003F003E, 0x0040003F,
    0x00410040, 0x00420041, 0x00430042, 0x00440043, 0x00450044, 0x00460045, 0x00470046, 0x00480047,
    0x00490048, 0x004A0049, 0x004B004A, 0x004C004B, 0x004D004C, 0x004E004D, 0x004F004E, 0x0050004F,
    0x00510050, 0x00520051, 0x00530052, 0x00540053, 0x00550054, 0x00560055, 0x00570056, 0x00580057,
    0x00590058, 0x005A0059, 0x005B005A, 0x005C005B, 0x005D005C, 0x005E005D, 0x005F005E, 0x0060005F,
    0x00610060, 0x00620061, 0x00630062, 0x00640063, 0x00650064, 0x00660065, 0x00670066, 0x00680067,
    0x00690068, 0x006A0069, 0x006B006A, 0x006C006B, 0x006D006C, 0x006E006D, 0x006F006E, 0x0070006F,
    0x00710070, 0x0071033D, 0x017601B4, 0x016C033E, 0x0232029A, 0x006F006E, 0x0070006F, 0x00710070,
    0x00720071, 0x00730072, 0x00740073, 0x00750074, 0x00760075, 0x00770076, 0x00780077, 0x00790078,
    0x007A0079, 0x007B007A, 0x007C007B, 0x007D007C, 0x007E007D, 0x007F007E, 0x0080007F, 0x00810080,
    0x00820081, 0x00830082, 0x00840083, 0x00850084, 0x00860085, 0x00870086, 0x00880087, 0x00890088,
    0x008A0089, 0x008B008A, 0x008C008B, 0x008D008C, 0x008E008D, 0x008F008E, 0x0090008F, 0x00910090,
    0x00920091, 0x00930092, 0x00940093, 0x00950094, 0x00960095, 0x00970096, 0x00980097, 0x00990098,
    0x009A0099, 0x009B009A, 0x009C009B, 0x009D009C, 0x009E009D, 0x009F009E, 0x00A0009F, 0x00A100A0,
    0x00A200A1, 0x00A300A2, 0x00A400A3, 0x00A500A4, 0x00A600A5, 0x00A700A6, 0x00A800A7, 0x00A900A8,
    0x00AA00A9, 0x00AB00AA, 0x00AC00AB, 0x00AD00AC, 0x00AE00AD, 0x00AF00AE, 0x00B000AF, 0x00B100B0,
    0x00B200B1, 0x00B300B2, 0x00B400B3, 0x00B500B4, 0x00B600B5, 0x00B700B6, 0x00B800B7, 0x00B900B8,
    0x00BA00B9, 0x00BB00BA, 0x00BC00BB, 0x00BD00BC, 0x00BE00BD, 0x00BF00BE, 0x00C000BF, 0x00C100C0,
    0x00C200C1, 0x00C300C2, 0x00C400C3, 0x00C500C4, 0x00C600C5, 0x00C700C6, 0x00C800C7, 0x00C900C8,
    0x00CA00C9, 0x00CB00CA, 0x00CC00CB, 0x00CD00CC, 0x00CE00CD, 0x00CF00CE, 0x00D000CF, 0x00D100D0,
    0x00D200D1, 0x00D300D2, 0x00D400D3, 0x00D500D4, 0x00D600D5, 0x00D700D6, 0x021000D7, 0x00E20220,
    0x011E0270, 0x0133012B, 0x0184013B, 0x027C00E8, 0x02790278, 0x02740279, 0x02750271, 0x0273026E,
    0x026A026B, 0x026F0268, 0x02640276, 0x026B0262, 0x025E0278, 0x0267028B, 0x02580259, 0x02550256,
    0x02520253, 0x024F0288, 0x026F0288, 0x0270026F, 0x02460283, 0x02430299, 0x02400241, 0x026E023E,
    0x02540253, 0x02370238, 0x02340235, 0x02310232, 0x024C022F, 0x022B022C, 0x02280229, 0x02250226,
    0x02220223, 0x021F0220, 0x021C021D, 0x0219021A, 0x02160217, 0x02130276, 0x02100238, 0x020D0236,
    0x020A0234, 0x02320286, 0x025E0286, 0x02010202, 0x01FE01FF, 0x01FB0270, 0x025B01F9, 0x01F501F6,
    0x01F20224, 0x02220280, 0x01EC0220, 0x01E901EA, 0x01E601E7, 0x0269027D, 0x01E0027D, 0x01DD01DE,
    0x01DA01DB, 0x0251027B, 0x0210027B, 0x01D101D2, 0x01CE01CF, 0x01CB01CC, 0x0248024D, 0x01C501C6,
    0x01C201C3, 0x01BF0275, 0x01BC025D, 0x01B901BA, 0x02490248, 0x02730272, 0x0273025A, 0x01AD01AE,
    0x01AA01AB, 0x02710245, 0x02450271, 0x01A101A2, 0x019E019F, 0x019B024F, 0x026F0254, 0x019501E6,
    0x01920193, 0x018F01E2, 0x023E018D, 0x0189018A, 0x02330187, 0x024E0280, 0x02690268, 0x024D027D,
    0x017A017B, 0x01770178, 0x024B0237, 0x01710172, 0x0236016F, 0x016B016C, 0x02350169, 0x01650166,
    0x01620234, 0x01C2024C, 0x015C015D, 0x0159015A, 0x023101BC, 0x02310154, 0x02400151, 0x014D014E,
    0x014A014B, 0x01470148, 0x01440145, 0x01410142, 0x013E013F, 0x013B013C, 0x01380139, 0x01350136,
    0x01320133, 0x012F0130, 0x012C012D, 0x0129012A, 0x01260127, 0x01230124, 0x01200121, 0x011D011E,
    0x011A011B, 0x01170118, 0x01140115, 0x01110112, 0x010E010F, 0x010B010C, 0x01880109, 0x01050106,
    0x01020103, 0x00FF0100, 0x00FC00FD, 0x00F900FA, 0x00F600F7, 0x00F300F4, 0x00F000F1, 0x00ED00EE,
    0x00EA00EB, 0x00E700E8, 0x00E400E5, 0x00E100E2, 0x00DE00DF, 0x00DB00DC, 0x00D800D9, 0x00D500D6,
    0x00D200D3, 0x016A00D0, 0x016800CD, 0x00C900CA, 0x00C600C7, 0x00C300C4, 0x022A00C1, 0x00BD00BE,
    0x020F00BB, 0x00B700B8, 0x00B400B5, 0x00B100B2, 0x00AE00AF, 0x00AB00AC, 0x021E00A9, 0x00A500A6,
    0x00A200A3, 0x009F00A0, 0x009C009D, 0x009901FE, 0x00960097, 0x00930094, 0x02020091, 0x013E008E,
    0x008A008B, 0x00870088, 0x02180085, 0x01360082, 0x0217007F, 0x007B0217, 0x00780079, 0x00750076,
    0x00720073, 0x006F0070, 0x0128006D, 0x0069006A, 0x02110067, 0x00630064, 0x021001F3, 0x005D005E,
    0x005A005B, 0x00570058, 0x00540055, 0x00510052, 0x004E020B, 0x0112020B, 0x0048020B, 0x00450046,
    0x00420043, 0x003F0040, 0x003C0108, 0x0039003A, 0x00360037, 0x00330034, 0x02040031, 0x002D01E3,
    0x002A002B, 0x00270028, 0x00240025, 0x00210022, 0x001E00F4, 0x001B001C, 0x01FD0019, 0x001501FD,
    0x00120013, 0x01FC00EA, 0x01FD00E8, 0x01D801FD, 0x00E401D8, 0x01FD00EE, 0x00EB01FD, 0x00000000
};

static const uint32_t g_tab1_rgb[] = {
    0x03090000, 0x00010000, 0x00020001, 0x00030002, 0x00040003, 0x00050004, 0x00060005, 0x00070006,
    0x00080007, 0x00090008, 0x000902F7, 0x000A0009, 0x000A01FA, 0x000B000A, 0x000B01F0, 0x02F8000B,
    0x000C000B, 0x000C02F5, 0x000C01FD, 0x000D000C, 0x000E000D, 0x000F000E, 0x000F02F2, 0x0010000F,
    0x00110010, 0x03100011, 0x00120011, 0x00130012, 0x01EB0013, 0x00140013, 0x00150014, 0x00160015,
    0x00170016, 0x00180017, 0x00180317, 0x00190018, 0x001A0019, 0x0324001A, 0x001B001A, 0x025C023B,
    0x001B001A, 0x027B001B, 0x02EF001B, 0x001B01F5, 0x01EB001B, 0x0214001B, 0x001B032B, 0x001B02CF,
    0x001C001B, 0x0294001C, 0x001D001C, 0x001D020D, 0x02E202F2, 0x001D001C, 0x01E902B0, 0x01F1001C,
    0x001C0331, 0x001C0228, 0x001C01EF, 0x02DC001C, 0x001C020E, 0x033C0268, 0x001B02F8, 0x001B02A8,
    0x001B01C8, 0x001C001B, 0x01D6001C, 0x001D001C, 0x0205001D, 0x001E001D, 0x0300001E, 0x0342001E,
    0x027E001E, 0x001F001E, 0x001F034F, 0x001F0220, 0x001F0236, 0x001F0256, 0x0308001F, 0x036A001F,
    0x0020001F, 0x02190020, 0x02E60020, 0x002002D5, 0x00200355, 0x02360020, 0x03100020, 0x0020031F,
    0x02540020, 0x0020022B, 0x00210020, 0x036E01A4, 0x0020032A, 0x00210020, 0x037B0338, 0x039A0020,
    0x022C0020, 0x00210020, 0x00210344, 0x00210393, 0x00210385, 0x002102E3, 0x01FD0021, 0x0021034F,
    0x02950298, 0x02BE0020, 0x0295035C, 0x0020001F, 0x002002AC, 0x02EB02CA, 0x025F001F, 0x001F0367,
    0x001F025C, 0x001F0375, 0x001F019C, 0x027A001F, 0x0020001F, 0x00210020, 0x02D10021, 0x02360021,
    0x02DF0021, 0x002102EF, 0x02FE0021, 0x02490021, 0x00220021, 0x00230022, 0x02E90023, 0x01C30023,
    0x00230308, 0x00240023, 0x00250024, 0x03150375, 0x00250024, 0x00250333, 0x02250025, 0x026101A3,
    0x01C30024, 0x0024025C, 0x0024031E, 0x002402EC, 0x02010024, 0x00240180, 0x02600024, 0x02380024,
    0x03070348, 0x03260023, 0x02F50023, 0x00230335, 0x00240023, 0x01740199, 0x00230311, 0x03510237,
    0x035F0022, 0x00230022, 0x002301D2, 0x0023033C, 0x00240023, 0x032A0192, 0x00240023, 0x00250024,
    0x002501E5, 0x0025018F, 0x0025024A, 0x00250203, 0x00250343, 0x00260025, 0x01A90178, 0x00260025,
    0x002601BC, 0x0026017E, 0x002601A4, 0x00260203, 0x002601C3, 0x00270026, 0x02410027, 0x017E0027,
    0x0027021F, 0x015F01D9, 0x00270026, 0x00280027, 0x0028019C, 0x0028017C, 0x00290028, 0x01F80029,
    0x01D70029, 0x00290237, 0x0029020E, 0x00290241, 0x01B40029, 0x002A0029, 0x002B002A, 0x002B0211,
    0x002B0211, 0x01AD002B, 0x002C002B, 0x002C018E, 0x015D002C, 0x002C0183, 0x002C01A3, 0x01E901C9,
    0x020301A5, 0x0148002A, 0x0221002A, 0x0226002A, 0x002A01DB, 0x01A4002A, 0x017F01C3, 0x01BF0029,
    0x00290168, 0x002A0029, 0x01DF002A, 0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E,
    0x0030002F, 0x01AD0030, 0x00310030, 0x00310131, 0x00310167, 0x00320031, 0x00330032, 0x01CB012B,
    0x02140032, 0x02140032, 0x00320207, 0x00330032, 0x00340033, 0x00350034, 0x01EC01EE, 0x00340214,
    0x017D0034, 0x003401A0, 0x00350034, 0x01610035, 0x012A0035, 0x00360035, 0x00360205, 0x01FB01F5,
    0x01DA0035, 0x012C01EC, 0x00350034, 0x01380035, 0x01E80035, 0x00360035, 0x00370036, 0x018601EA,
    0x01340036, 0x003601E0, 0x01FF0036, 0x00360137, 0x003601F6, 0x003601FD, 0x01E00128, 0x00360035,
    0x01D3010B, 0x01E201BC, 0x01D50166, 0x013A0033, 0x01DE0033, 0x01A40033, 0x01410134, 0x00330032,
    0x013700FD, 0x00330032, 0x01CC01ED, 0x019201D4, 0x00320031, 0x01AE0165, 0x003101CD, 0x01BA01A4,
    0x01C80030, 0x00300181, 0x014B01E4, 0x002F0101, 0x002F00FE, 0x010401E3, 0x01CA002E, 0x00FC010B,
    0x0219002D, 0x01BC01C1, 0x01A7002C, 0x002C015F, 0x0122002C, 0x011A0195, 0x002B00E4, 0x01A40168,
    0x01680139, 0x01ED0029, 0x00290178, 0x0185019B, 0x01950198, 0x00280027, 0x018E00EF, 0x01570027,
    0x017300F4, 0x00D80026, 0x00D6016D, 0x018C010E, 0x00F90173, 0x019300ED, 0x00ED0116, 0x00210193,
    0x018F0163, 0x01710020, 0x01350120, 0x001F0113, 0x016C012A, 0x014C00EF, 0x001D0180, 0x01490181,
    0x00FB0120, 0x001B00EA, 0x00CA00C9, 0x017F00FB, 0x013D0159, 0x00180178, 0x015800F6, 0x01550017,
    0x015E0201, 0x0160011F, 0x001500FA, 0x01550159, 0x0014011B, 0x0121010E, 0x00EF0013, 0x01520113,
    0x00F30012, 0x0132010B, 0x012E012D, 0x0134012B, 0x01290130, 0x0108000E, 0x00F7000E, 0x01240107,
    0x000D0107, 0x000D0210, 0x01FF0122, 0x01080109, 0x000C000B, 0x000D000C, 0x01C8022B, 0x000C021A,
    0x01D6000C, 0x01F5000C, 0x0247000C, 0x000D000C, 0x000D01E2, 0x02010211, 0x000C0233, 0x000D000C,
    0x024E0251, 0x021D01BE, 0x022C000B, 0x000B027E, 0x000B025D, 0x000B01CA, 0x01E90238, 0x02670287,
    0x00090289, 0x027501B7, 0x02540008, 0x02660008, 0x000801D3, 0x02220008, 0x02010231, 0x02100250,
    0x026F025F, 0x01BF0005, 0x01ED0005, 0x00060005, 0x0006023B, 0x00070006, 0x00070279, 0x01F90007,
    0x019701D8, 0x01C70267, 0x02060005, 0x00050215, 0x00050274, 0x00060005, 0x01A301E2, 0x02410221,
    0x00040230, 0x0004024F, 0x00050004, 0x00060005, 0x00070006, 0x00080007, 0x00090008, 0x000A0009,
    0x000B000A, 0x000C000B, 0x000D000C, 0x000E000D, 0x000F000E, 0x0010000F, 0x00110010, 0x00120011,
    0x00130012, 0x00140013, 0x00150014, 0x00160015, 0x00170016, 0x00180017, 0x00190018, 0x001A0019,
    0x001B001A, 0x001C001B, 0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00220021,
    0x00230022, 0x00240023, 0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028, 0x002A0029,
    0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030, 0x00320031,
    0x00330032, 0x00340033, 0x00350034, 0x00360035, 0x00370036, 0x00380037, 0x00390038, 0x003A0039,
    0x003B003A, 0x003C003B, 0x003D003C, 0x003E003D, 0x003F003E, 0x0040003F, 0x01540195, 0x02350154,
    0x015401CA, 0x01C40154, 0x01C101C2, 0x014D01BF, 0x019001D0, 0x01DD01D0, 0x01DE01DD, 0x01E3014A,
    0x01E401E3, 0x01D401C2, 0x01D201C8, 0x01C1018F, 0x018F01CE, 0x014001E5, 0x014C018E, 0x018E014C,
    0x01D5013C, 0x014C0184, 0x01910190, 0x01920191, 0x01370196, 0x01DF01DE, 0x01E4016F, 0x01E501E4,
    0x013201E5, 0x01BA01D4, 0x01C10192, 0x020F01A2, 0x01E601A0, 0x01E701E6, 0x01450144, 0x019C0145,
    0x0145019A, 0x01E4018C, 0x016A016B, 0x020A0192, 0x01470146, 0x01E601E5, 0x01E701E6, 0x0145020E,
    0x020A0145, 0x011C0133, 0x018A01E8, 0x01670188, 0x01470146, 0x01E701E6, 0x01EC01E7, 0x01460145,
    0x015A015B, 0x01EA01FA, 0x01EA0208, 0x014701F9, 0x01480147, 0x010F01E8, 0x010D0205, 0x017B010B,
    0x01EA0145, 0x01EB01EA, 0x02030202, 0x019201F8, 0x0146016F, 0x01470146, 0x01B701E7, 0x00000000
};

static const uint32_t g_tab1_dxt1[] = {
    0x00010000, 0x00020001, 0x00030002, 0x00040003, 0x00050004, 0x00060005, 0x00060333, 0x00070006,
    0x00080007, 0x00090008, 0x000A0009, 0x000B000A, 0x000C000B, 0x000D000C, 0x000E000D, 0x000F000E,
    0x01EE000F, 0x0010000F, 0x00110010, 0x00120011, 0x00130012, 0x00140013, 0x00150014, 0x00160015,
    0x0016031E, 0x00170016, 0x00170239, 0x00180017, 0x00190018, 0x001A0019, 0x001B001A, 0x001C001B,
    0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00220021, 0x00230022, 0x00240023,
    0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028, 0x002902D1, 0x002A0029, 0x002B002A,
    0x002C002B, 0x002C01CE, 0x002D002C, 0x002D02CC, 0x02C9002D, 0x002E002D, 0x002F002E, 0x002F01CF,
    0x0206002F, 0x0030002F, 0x01C60030, 0x00310030, 0x00320031, 0x00320241, 0x00330032, 0x00340033,
    0x003402F7, 0x00350034, 0x003501C5, 0x003502F5, 0x00360035, 0x02190036, 0x003601E1, 0x003601C7,
    0x01DB0036, 0x00370036, 0x032C0037, 0x02230037, 0x01D30037, 0x00380037, 0x003801C5, 0x02840038,
    0x00380206, 0x02570038, 0x003801FC, 0x003801FF, 0x00380201, 0x01AC01B6, 0x00380037, 0x00390038,
    0x01C601AB, 0x003801FF, 0x003801BC, 0x003801D4, 0x01E30038, 0x00390038, 0x01AB0039, 0x003A0039,
    0x003A01D3, 0x003A0208, 0x003B003A, 0x003B0248, 0x003B025A, 0x003B01A3, 0x003B01FA, 0x01E1003B,
    0x003B01E8, 0x003B0208, 0x024901F0, 0x01D5003A, 0x003A034A, 0x01CA0226, 0x003A0039, 0x003A0223,
    0x003B003A, 0x003B0191, 0x003B020E, 0x022B003B, 0x003C003B, 0x02B1003C, 0x003D003C, 0x003D0202,
    0x003E003D, 0x0221003E, 0x01DA003E, 0x020F003E, 0x003F003E, 0x0040003F, 0x01A80040, 0x022401A3,
    0x0376003F, 0x0040003F, 0x00410040, 0x00420041, 0x02C20042, 0x01DC0042, 0x004201A5, 0x02190042,
    0x00430042, 0x00430370, 0x01B90254, 0x01F60271, 0x01D70041, 0x01D00041, 0x01E80041, 0x02640041,
    0x02E90265, 0x00400328, 0x00400196, 0x00410040, 0x024D02E4, 0x02990040, 0x00410040, 0x01F0022A,
    0x0040020E, 0x004001C6, 0x004001C2, 0x00400229, 0x00400249, 0x02070040, 0x00410040, 0x0041024E,
    0x00410248, 0x004101EA, 0x016B018B, 0x01D00040, 0x00410040, 0x00410160, 0x01C20041, 0x00410182,
    0x02530041, 0x004101FE, 0x023F0041, 0x0221017F, 0x02CB0040, 0x01D50040, 0x00410040, 0x02190041,
    0x00420041, 0x00430042, 0x020901D1, 0x00430042, 0x0229020C, 0x01B10042, 0x030201C2, 0x01D10041,
    0x004101CC, 0x01C60203, 0x021B0040, 0x01C20040, 0x00410040, 0x0155033B, 0x00400230, 0x00400183,
    0x01E90236, 0x003F01EB, 0x016301A9, 0x003F003E, 0x02100228, 0x01850217, 0x0181003D, 0x003D01E6,
    0x021E01C1, 0x003C032E, 0x003C019D, 0x003C0184, 0x003C017A, 0x02090148, 0x003B02E9, 0x015F01C5,
    0x020A003A, 0x0295003A, 0x003A01A9, 0x003A02B3, 0x003A0242, 0x003A0135, 0x019A0222, 0x003901CB,
    0x003901ED, 0x0039015C, 0x01E30039, 0x01800039, 0x003A0039, 0x013A01C4, 0x01B70039, 0x01530039,
    0x0039015D, 0x00390219, 0x02020039, 0x00390155, 0x01A201D1, 0x0038012F, 0x01940173, 0x01E201E4,
    0x01690036, 0x01E70036, 0x01920180, 0x01E702BB, 0x01380208, 0x01A90033, 0x015D02F8, 0x01F301F4,
    0x012A013C, 0x01D20030, 0x0112017D, 0x01BB01D4, 0x011801FC, 0x019902D1, 0x01FB01D8, 0x002B017B,
    0x01240128, 0x01B7002A, 0x002A013C, 0x01140139, 0x01150193, 0x00280232, 0x01B801ED, 0x002701CE,
    0x002701E0, 0x013A018B, 0x002601F7, 0x013701A2, 0x0198012D, 0x01AA01B3, 0x00240023, 0x01AD015D,
    0x0115024E, 0x01B10022, 0x01170022, 0x00220142, 0x016901A6, 0x01830192, 0x01E40020, 0x013201CC,
    0x022E01C1, 0x001E0166, 0x01890198, 0x02340144, 0x01B2001C, 0x001D001C, 0x01D4017B, 0x0101001C,
    0x001C0155, 0x01A600F7, 0x001B01CD, 0x0172012E, 0x017C01D3, 0x011F0157, 0x01440112, 0x00FC0017,
    0x01D70119, 0x014B0016, 0x00170016, 0x019F024B, 0x00160179, 0x018C01B3, 0x019301A9, 0x015E0014,
    0x01D901B1, 0x00140013, 0x00140254, 0x0014016E, 0x01E201FB, 0x001301B2, 0x02800116, 0x001200EA,
    0x019A0012, 0x01ED0012, 0x026402BC, 0x01840254, 0x01110131, 0x01620117, 0x000E0218, 0x0238000E,
    0x000E0277, 0x02B6000E, 0x000E0284, 0x028C01EE, 0x01C4000D, 0x01C9000D, 0x0241000D, 0x000D0297,
    0x019701F1, 0x000D000C, 0x01FD024C, 0x000C01E5, 0x000C0223, 0x01D20203, 0x0203000B, 0x0278000B,
    0x000B020F, 0x02850215, 0x0254000A, 0x0284000A, 0x023C000A, 0x024A000A, 0x02890241, 0x02980009,
    0x028E0009, 0x000A0009, 0x000A01CD, 0x02750254, 0x000A0009, 0x000A020A, 0x02920249, 0x000901D9,
    0x00090210, 0x02860009, 0x024F0009, 0x02160009, 0x0009024C, 0x022C020C, 0x028B0008, 0x01E10201,
    0x00080007, 0x020F0277, 0x00070236, 0x01EC01F5, 0x021C0006, 0x024B0006, 0x01EA0006, 0x024A0006,
    0x02380278, 0x00050218, 0x01A50005, 0x01D6019C, 0x00040284, 0x02230253, 0x025B01B2, 0x00020282,
    0x02510260, 0x00020001, 0x00030002, 0x00040003, 0x00050004, 0x01A30005, 0x00060005, 0x00070006,
    0x00080007, 0x00090008, 0x019F0009, 0x01950009, 0x000A0009, 0x000B000A, 0x000C000B, 0x000D000C,
    0x000E000D, 0x000F000E, 0x0010000F, 0x00110010, 0x00120011, 0x00130012, 0x021B0013, 0x00140013,
    0x00150014, 0x00160015, 0x00170016, 0x00180017, 0x00190018, 0x001A0019, 0x001B001A, 0x001C001B,
    0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00220021, 0x00230022, 0x01FA0023,
    0x002301C1, 0x01B80188, 0x01770247, 0x00220021, 0x00230022, 0x00240023, 0x00250024, 0x00260025,
    0x00270026, 0x00280027, 0x00290028, 0x002A0029, 0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D,
    0x002F002E, 0x0030002F, 0x00310030, 0x00320031, 0x00330032, 0x00340033, 0x00350034, 0x00360035,
    0x00370036, 0x00380037, 0x00390038, 0x003A0039, 0x003B003A, 0x003C003B, 0x003D003C, 0x003E003D,
    0x003F003E, 0x0040003F, 0x00410040, 0x00420041, 0x018801A5, 0x017E0188, 0x01850184, 0x023B017B,
    0x018B01F3, 0x01D901F1, 0x0200018B, 0x01600161, 0x01F601FF, 0x01850160, 0x015C018C, 0x018D018C,
    0x018401D3, 0x01540161, 0x019001F3, 0x01900151, 0x0190014F, 0x01FD022E, 0x01FE01FD, 0x014B01FE,
    0x01EC01F4, 0x016401EA, 0x01620143, 0x016A01FF, 0x01E00229, 0x02000167, 0x013D017F, 0x01D6018B,
    0x018C018B, 0x0139018C, 0x01D20151, 0x015801C1, 0x018E01CF, 0x01FC018E, 0x01FD01FC, 0x018E018D,
    0x012C012D, 0x0191012A, 0x019101FA, 0x01920191, 0x01B501F9, 0x01240125, 0x01940122, 0x0194014B,
    0x01940144, 0x01F90174, 0x01FA01F9, 0x011A0192, 0x011801F9, 0x019501C8, 0x01140115, 0x01950194,
    0x01BA0195, 0x01AC020B, 0x013B0198, 0x01990198, 0x019901F6, 0x01AE01AD, 0x01F501DB, 0x01DC01F5,
    0x019A01F5, 0x01AC01AB, 0x011A01DA, 0x019801F7, 0x01F801F7, 0x019701F8, 0x01C70197, 0x00000000
};

static const uint32_t g_tab1_dxt23[] = {
    0x00010000, 0x00020001, 0x00030002, 0x00040003, 0x00050004, 0x03740005, 0x00060005, 0x00070006,
    0x00080007, 0x03580008, 0x02F50008, 0x00090008, 0x000A0009, 0x000A02F4, 0x000B000A, 0x000C000B,
    0x000D000C, 0x01ED000D, 0x000E000D, 0x000F000E, 0x0010000F, 0x00110010, 0x00120011, 0x00130012,
    0x00140013, 0x02E4023A, 0x00140013, 0x00150014, 0x00160015, 0x00170016, 0x00180017, 0x00190018,
    0x001A0019, 0x001B001A, 0x001C001B, 0x001D001C, 0x001D0352, 0x001E001D, 0x001F001E, 0x02D7001F,
    0x0020001F, 0x00210020, 0x00220021, 0x00230022, 0x00240023, 0x00250024, 0x00260025, 0x00270026,
    0x00280027, 0x00290028, 0x002A0029, 0x002B002A, 0x002C002B, 0x002D002C, 0x01C9002D, 0x002E002D,
    0x03C102C8, 0x01CD002D, 0x002E002D, 0x01D3026D, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030,
    0x00320031, 0x00330032, 0x03360033, 0x00340033, 0x03330034, 0x00350034, 0x00360035, 0x00370036,
    0x00380037, 0x00390038, 0x003A0039, 0x01CB003A, 0x02A9003A, 0x003A01F1, 0x003B003A, 0x022F01B1,
    0x003B003A, 0x003B01CD, 0x003C003B, 0x003D003C, 0x003E003D, 0x003E01D2, 0x003F003E, 0x027C025C,
    0x0206003E, 0x01C6003E, 0x01FB003E, 0x0213003E, 0x01AB003E, 0x01F5003E, 0x003F003E, 0x003F02F2,
    0x028D003F, 0x003F01B2, 0x003F01DD, 0x003F01CC, 0x020D0247, 0x01BE003E, 0x003F003E, 0x003F027E,
    0x0040003F, 0x01ED0040, 0x00410040, 0x021501C8, 0x01950040, 0x0281019E, 0x003F01C9, 0x023401E9,
    0x01D0003E, 0x01DD003E, 0x0191003E, 0x026101E7, 0x021E003D, 0x0257003D, 0x003E003D, 0x003E037F,
    0x02260243, 0x003E003D, 0x0220003E, 0x02C601CD, 0x01D4003D, 0x003D01EC, 0x025E003D, 0x003D0307,
    0x003D025D, 0x023D027B, 0x018B0242, 0x01DE003B, 0x01F5003B, 0x003B0183, 0x003B0204, 0x003B020C,
    0x0181003B, 0x003C003B, 0x003C0216, 0x017702DB, 0x01C8003B, 0x01D2003B, 0x003B0288, 0x003B0232,
    0x003C003B, 0x003D003C, 0x003D02C7, 0x003D0198, 0x003E003D, 0x003F003E, 0x003F01E0, 0x003F025C,
    0x024601E5, 0x003F003E, 0x003F01E8, 0x022101C2, 0x003F003E, 0x02380209, 0x003E018A, 0x024201C1,
    0x0286003D, 0x0185003D, 0x003D01B9, 0x003D02CB, 0x019F003D, 0x0264003D, 0x0253017C, 0x01D4003C,
    0x003D003C, 0x01B30185, 0x01C9003C, 0x01F10250, 0x003C003B, 0x003D003C, 0x003D020F, 0x003E003D,
    0x01B3003E, 0x01F3003E, 0x003E02BF, 0x01D5003E, 0x01A3003E, 0x003E01DF, 0x01990202, 0x014E01F2,
    0x003C015A, 0x01CB01DF, 0x003C003B, 0x01AD017B, 0x003C003B, 0x01F0015D, 0x003B01BA, 0x003C003B,
    0x022801B7, 0x003B0230, 0x003B0168, 0x03340184, 0x01760225, 0x02310214, 0x01E10038, 0x01BA0038,
    0x01E40038, 0x021D0038, 0x003801FB, 0x01620264, 0x01E801BB, 0x0036013D, 0x00370036, 0x020201A6,
    0x01970036, 0x01DF0036, 0x01F7019D, 0x01BD0035, 0x0324015E, 0x00340191, 0x01B60034, 0x00350034,
    0x017301A7, 0x0034021F, 0x0034022C, 0x01F30190, 0x003301F1, 0x01C4026C, 0x021C0032, 0x003201E1,
    0x01490032, 0x018F0032, 0x015B0032, 0x030301A8, 0x00320031, 0x00330032, 0x01C8019D, 0x00330032,
    0x01500033, 0x01B90193, 0x01EC0032, 0x018F0032, 0x019A0032, 0x00330032, 0x01A00033, 0x01C60146,
    0x0032011F, 0x016801E1, 0x00310154, 0x01E70031, 0x00320031, 0x01CE0146, 0x00310121, 0x012E025F,
    0x01AD0030, 0x00310030, 0x003101BF, 0x018E011A, 0x003001CC, 0x003001F5, 0x01220238, 0x002F0197,
    0x01950207, 0x002E0141, 0x002E01E0, 0x002E019C, 0x002E01DC, 0x01DF00FF, 0x01B0002D, 0x002D01C4,
    0x015C002D, 0x01BD002D, 0x002D0265, 0x002D0136, 0x002D020B, 0x01E2002D, 0x011601DD, 0x002D002C,
    0x012101B7, 0x002C017C, 0x002C019F, 0x01190274, 0x01CF00F8, 0x002A00FF, 0x002B002A, 0x027F01A8,
    0x002A01D4, 0x01820176, 0x01D00029, 0x011901B5, 0x0028018E, 0x014F01BE, 0x01C9017F, 0x0132012B,
    0x025E0177, 0x016401D3, 0x00FB0152, 0x02CB0022, 0x0125020A, 0x01950021, 0x00EB0189, 0x021F00FA,
    0x01C8001F, 0x01AF0189, 0x01980148, 0x0105013F, 0x01DC001C, 0x01CA00EB, 0x023B001B, 0x0133001B,
    0x001B01AF, 0x001C001B, 0x001C00DE, 0x013A022B, 0x02030108, 0x001A015C, 0x01170199, 0x01E8010D,
    0x01920217, 0x00170206, 0x029C0204, 0x01110016, 0x015D01E2, 0x0015017A, 0x02A30015, 0x01CF0277,
    0x02480014, 0x01040124, 0x00D90226, 0x00F60012, 0x025300D8, 0x02AA0011, 0x022101F3, 0x02970010,
    0x00110010, 0x0205025D, 0x023F0010, 0x022500CE, 0x0242000F, 0x024B000F, 0x01890289, 0x000E0298,
    0x01E801D7, 0x025E000D, 0x000D01D6, 0x000D022C, 0x022D000D, 0x0294000D, 0x000D0248, 0x0208029A,
    0x0200000C, 0x000C026D, 0x000C01FD, 0x02840263, 0x01E4000B, 0x025C0271, 0x000B000A, 0x01E80279,
    0x024E0239, 0x01C8022E, 0x00090008, 0x000A0009, 0x000A0253, 0x021B0242, 0x02820269, 0x01F90008,
    0x02370250, 0x00080007, 0x000801DE, 0x0254026E, 0x01C40007, 0x02730283, 0x02230006, 0x00060259,
    0x00060257, 0x023F01C0, 0x01DE0005, 0x0235024D, 0x021C025C, 0x019A0003, 0x02530233, 0x025A0002,
    0x022801A8, 0x00020001, 0x00020247, 0x019D0226, 0x02350001, 0x00020001, 0x00030002, 0x00040003,
    0x00050004, 0x00060005, 0x00070006, 0x00080007, 0x00090008, 0x000A0009, 0x000B000A, 0x000C000B,
    0x000D000C, 0x000E000D, 0x000F000E, 0x0010000F, 0x00100184, 0x00100194, 0x00110010, 0x00120011,
    0x00130012, 0x00140013, 0x00150014, 0x00160015, 0x00170016, 0x00180017, 0x00190018, 0x001A0019,
    0x001B001A, 0x001C001B, 0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00220021,
    0x00230022, 0x00240023, 0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028, 0x002A0029,
    0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030, 0x00320031,
    0x00330032, 0x00340033, 0x00350034, 0x00360035, 0x00370036, 0x00380037, 0x00390038, 0x003A0039,
    0x003B003A, 0x003C003B, 0x003D003C, 0x003E003D, 0x003F003E, 0x0040003F, 0x0204019E, 0x019C0204,
    0x01AA01FD, 0x01AA0203, 0x0140019B, 0x019701AA, 0x01580159, 0x01F701D5, 0x01540155, 0x01A501FE,
    0x015101AA, 0x01AA01F1, 0x01AB01AA, 0x0157018A, 0x01870188, 0x01FD0185, 0x01FE01FD, 0x015401FE,
    0x019501CB, 0x017C01EA, 0x01E301A8, 0x020001FF, 0x02000229, 0x0200014F, 0x017601A5, 0x013E0174,
    0x014D01A4, 0x01DB0171, 0x01D901A3, 0x013901D7, 0x01860188, 0x01670186, 0x01FD01FC, 0x01330134,
    0x016301B3, 0x01A10130, 0x01A101FA, 0x015F01A1, 0x01A101F9, 0x01B001B7, 0x01AE01C7, 0x01440143,
    0x015501C4, 0x01C20153, 0x01F801C0, 0x0141019F, 0x01F801F7, 0x01400120, 0x019D01F7, 0x011C011D,
    0x019C014B, 0x01490119, 0x0141019B, 0x011201B2, 0x01B00110, 0x010E01AE, 0x013F01FF, 0x013B01F3,
    0x013C01F3, 0x01F401F3, 0x020201A8, 0x02000197, 0x01A101FE, 0x01F601F5, 0x014701F6, 0x00000000
};

static const uint32_t g_tab1_dxt45[] = {
    0x00010000, 0x00020001, 0x00030002, 0x00040003, 0x03750004, 0x00050004, 0x00060005, 0x00070006,
    0x00080007, 0x00090008, 0x000A0009, 0x000B000A, 0x000C000B, 0x000D000C, 0x000E000D, 0x000F000E,
    0x0010000F, 0x00110010, 0x00120011, 0x00130012, 0x00140013, 0x00150014, 0x00160015, 0x00170016,
    0x001701E6, 0x001702E6, 0x00180017, 0x00190018, 0x001A0019, 0x001B001A, 0x0358001B, 0x001C001B,
    0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00220021, 0x002202D7, 0x00230022,
    0x00240023, 0x0024022A, 0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028, 0x002A0029,
    0x002B002A, 0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030, 0x00320031,
    0x00330032, 0x00340033, 0x003401E8, 0x00350034, 0x0035026C, 0x00360035, 0x02090036, 0x00370036,
    0x003701C0, 0x00380037, 0x01C40038, 0x00390038, 0x003A0039, 0x003B003A, 0x003C003B, 0x033001C7,
    0x0330003B, 0x003C003B, 0x003D003C, 0x003E003D, 0x003E01B3, 0x003E01D1, 0x003F003E, 0x03AA003F,
    0x0040003F, 0x022D0040, 0x00410040, 0x00420041, 0x00430042, 0x00440043, 0x01B10044, 0x02390044,
    0x00450044, 0x00460045, 0x0046039C, 0x00470046, 0x004701AC, 0x02A10047, 0x00480047, 0x029D0048,
    0x01B60048, 0x00490048, 0x004901A0, 0x01C40049, 0x004A0049, 0x004A026E, 0x004A019B, 0x0272004A,
    0x0218024C, 0x02980049, 0x004A0049, 0x0288004A, 0x01E9004A, 0x01C2019C, 0x004A0049, 0x004A01D0,
    0x004A024D, 0x004A01FA, 0x01AD004A, 0x0288004A, 0x004A01CA, 0x004B004A, 0x004C004B, 0x004C0281,
    0x004C0205, 0x004D004C, 0x004D01DE, 0x0232004D, 0x004D01E1, 0x004E004D, 0x026F018D, 0x01AC004D,
    0x004D0233, 0x022A0228, 0x004D004C, 0x021B01DD, 0x004D004C, 0x004D01B2, 0x01CA004D, 0x004E004D,
    0x004E01F1, 0x004E026C, 0x01BE004E, 0x004F004E, 0x025C004F, 0x004F01D1, 0x0050004F, 0x024F01FF,
    0x004F01D1, 0x01D80197, 0x004E01DF, 0x004F004E, 0x004F0265, 0x004F02D1, 0x004F017A, 0x018C0246,
    0x004F004E, 0x004F020D, 0x01A6004F, 0x0050004F, 0x01910050, 0x01890050, 0x00500247, 0x01640201,
    0x004F01D6, 0x0248004F, 0x0050004F, 0x01EF0050, 0x02170199, 0x02CC01B7, 0x004F004E, 0x01DA004F,
    0x004F0165, 0x017C019D, 0x023C004E, 0x021301DF, 0x02DA004D, 0x0249004D, 0x01B1004D, 0x004D017A,
    0x0211015A, 0x004D004C, 0x01FA004D, 0x01800344, 0x004C0158, 0x004C01A1, 0x01C201B2, 0x004B014D,
    0x015B0248, 0x01CF01AE, 0x01B40049, 0x01D801E8, 0x01B70048, 0x0218033B, 0x01C40047, 0x01B101BD,
    0x018E0161, 0x01580199, 0x019901FA, 0x0043018F, 0x00430236, 0x021101D5, 0x004201B5, 0x01C0013E,
    0x01660041, 0x020B0182, 0x02210040, 0x01FA01BE, 0x003F0222, 0x003F0187, 0x01EA003F, 0x003F0155,
    0x01B401C9, 0x019901D0, 0x020F01A3, 0x0144003C, 0x01F9003C, 0x0207015F, 0x01CE0162, 0x020B003A,
    0x01B301B4, 0x00390147, 0x01380189, 0x018B021C, 0x02100037, 0x021701F1, 0x01910133, 0x01CF0035,
    0x014A01B1, 0x00340139, 0x01E50161, 0x01BF01D6, 0x01930032, 0x01CA0301, 0x01350169, 0x01CE01F9,
    0x002F01AD, 0x01B201C7, 0x01C00224, 0x016101F0, 0x02820188, 0x016C0122, 0x01D401D6, 0x02020029,
    0x01F301B7, 0x002801D8, 0x01E6017A, 0x0146012A, 0x01D80199, 0x019F0137, 0x01F40024, 0x01F9013F,
    0x012001AD, 0x01C701A4, 0x00210195, 0x01B7018B, 0x00200151, 0x002001DD, 0x013E01D3, 0x01CC016E,
    0x011501E7, 0x01CF01EE, 0x01960138, 0x012F015F, 0x001A0176, 0x01360197, 0x013C014B, 0x0018015D,
    0x01DC010C, 0x013801E9, 0x012B01B0, 0x013F014C, 0x017301A5, 0x01AA01BB, 0x013B0012, 0x01A70121,
    0x018601FF, 0x01610172, 0x01B101BD, 0x01090184, 0x000D01BE, 0x011C01B1, 0x000C012E, 0x01B3016E,
    0x014D000B, 0x01BE0186, 0x000B000A, 0x0243000B, 0x000B0262, 0x01A201C2, 0x000A0223, 0x0212000A,
    0x000A0125, 0x02CD000A, 0x000B000A, 0x01F3024C, 0x02BA026A, 0x000A0009, 0x000A0230, 0x0217020F,
    0x01FE0009, 0x000A0009, 0x000B000A, 0x0234000B, 0x02C3000B, 0x000B01EA, 0x000B0211, 0x000C000B,
    0x000C024F, 0x000C01FD, 0x000D000C, 0x025C0213, 0x000D000C, 0x000D02AA, 0x000E000D, 0x025F01CF,
    0x000E000D, 0x000F000E, 0x029C000F, 0x000F024C, 0x021B0204, 0x01EC022B, 0x000D0210, 0x01F002B2,
    0x01E8000C, 0x000C0275, 0x026401DC, 0x0294000B, 0x000B0223, 0x0289000B, 0x000C000B, 0x000C02A0,
    0x000C0228, 0x01E70206, 0x01EE000B, 0x01EC000B, 0x01D3000B, 0x0251000B, 0x029A01D9, 0x0277000A,
    0x000A0219, 0x000A026E, 0x01F5000A, 0x000A026B, 0x025A0243, 0x000A0009, 0x000A029A, 0x000A0231,
    0x0228000A, 0x024E0208, 0x000A0009, 0x000A022E, 0x02650243, 0x022401B3, 0x025301EA, 0x02810007,
    0x024F0007, 0x00070256, 0x02360007, 0x00080007, 0x02850008, 0x01D401F3, 0x01FA0007, 0x02680007,
    0x02580228, 0x00070006, 0x02460007, 0x023D024D, 0x019B0006, 0x025B026B, 0x00050259, 0x01A201B1,
    0x00050004, 0x00060005, 0x023701A6, 0x02460005, 0x00060005, 0x02240006, 0x025A022B, 0x00060005,
    0x01D10006, 0x000601D7, 0x01DF0226, 0x00060005, 0x000601A5, 0x00070006, 0x00080007, 0x00090008,
    0x000A0009, 0x01980260, 0x000901CF, 0x000A0009, 0x000B000A, 0x000C000B, 0x000D000C, 0x000E000D,
    0x000F000E, 0x0010000F, 0x023F0010, 0x00110010, 0x0011017C, 0x00120011, 0x00130012, 0x00140013,
    0x00150014, 0x00160015, 0x00170016, 0x00180017, 0x00190018, 0x001A0019, 0x001B001A, 0x001C001B,
    0x001D001C, 0x001E001D, 0x001F001E, 0x0020001F, 0x00210020, 0x00210234, 0x00220021, 0x00230022,
    0x00240023, 0x00250024, 0x00260025, 0x00270026, 0x00280027, 0x00290028, 0x002A0029, 0x002B002A,
    0x002C002B, 0x002D002C, 0x002E002D, 0x002F002E, 0x0030002F, 0x00310030, 0x00320031, 0x00330032,
    0x00340033, 0x00350034, 0x00360035, 0x00370036, 0x00380037, 0x00390038, 0x003A0039, 0x003B003A,
    0x003C003B, 0x003D003C, 0x003E003D, 0x003F003E, 0x0040003F, 0x01D40040, 0x01A5021B, 0x01BB01A3,
    0x01BC01BB, 0x015B015C, 0x016B016A, 0x01BA01BF, 0x015701C0, 0x015501C0, 0x01960197, 0x01C401C3,
    0x01C501C4, 0x01BA0161, 0x02200191, 0x01C70140, 0x01C801C7, 0x014701C8, 0x0154015D, 0x01A6019C,
    0x01CC01CB, 0x016101CC, 0x016101A2, 0x01500191, 0x0150021E, 0x01500198, 0x013C01CF, 0x015D017E,
    0x017C0192, 0x01D1017A, 0x01D10219, 0x02110212, 0x01D101D0, 0x01750130, 0x015F017C, 0x01D30156,
    0x01D401D3, 0x012B01D4, 0x016A016B, 0x0182011F, 0x01D701D6, 0x011F011E, 0x01D701D6, 0x01630164,
    0x015201B2, 0x01DA01D9, 0x01DB01DA, 0x015A0150, 0x02080158, 0x01DD0126, 0x020701DD, 0x011601DD,
    0x015301DD, 0x017B014B, 0x01E001B0, 0x01E101E0, 0x01AF01E1, 0x014D0114, 0x01E401AE, 0x01E501E4,
    0x011201E5, 0x0179011C, 0x02010200, 0x01E70178, 0x01E801E7, 0x01FF01E8, 0x01ED01FF, 0x00000000
};

static const uint16_t g_tab2_hdr[] = {
    0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119,
    0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119, 0x5119,
    0x8009, 0x8009, 0x8009, 0x8009, 0x8141, 0x8141, 0x8141, 0x8141, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001,
    0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053, 0x6053,
    0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C, 0x607C,
    0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004, 0x6004,
    0x9143, 0x9143, 0xB044, 0xA121, 0x8123, 0x8123, 0x8123, 0x8123, 0x9159, 0x9159, 0x90FF, 0x90FF, 0x9111, 0x9111, 0x9113, 0x9113,
    0x9041, 0x9041, 0x9193, 0x9193, 0xB045, 0xA01F, 0x9163, 0x9163, 0x7120, 0x7120, 0x7120, 0x7120, 0x7120, 0x7120, 0x7120, 0x7120,
    0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007, 0x6007,
    0xA060, 0xA1EB, 0x90E0, 0x90E0, 0xA18B, 0xA161, 0xA0F8, 0xB046, 0x7101, 0x7101, 0x7101, 0x7101, 0x7101, 0x7101, 0x7101, 0x7101,
    0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058, 0x6058,
    0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054, 0x6054,
    0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x8118, 0x8118, 0x8118, 0x8118, 0x800F, 0x800F, 0x800F, 0x800F,
    0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B, 0x613B,
    0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008,
    0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103, 0x2103,
    0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100,
    0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100,
    0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100,
    0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100, 0x4100,
    0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044,
    0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044,
    0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044,
    0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044, 0x4044,
    0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183, 0x6183,
    0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A, 0x611A,
    0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040,
    0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040, 0x5040,
    0x8110, 0x8110, 0x8110, 0x8110, 0x814B, 0x814B, 0x814B, 0x814B, 0xA142, 0xB047, 0x9102, 0x9102, 0x9199, 0x9199, 0xB048, 0xB049,
    0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080, 0x6080,
    0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B,
    0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122, 0x6122,
    0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000,
    0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000,
    0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000,
    0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000, 0x4000,
    0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020,
    0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020,
    0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020,
    0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020, 0x4020,
    0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010,
    0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010,
    0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010,
    0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010, 0x4010,
    0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002,
    0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139, 0x6139,
    0x9153, 0x9153, 0x90FE, 0x90FE, 0xB04A, 0xB04B, 0xB04C, 0xB04D, 0x815B, 0x815B, 0x815B, 0x815B, 0x8033, 0x8033, 0x8033, 0x8033,
    0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A, 0x600A
};

static const uint16_t g_tab2_rgb[] = {
    0x9084, 0x9084, 0xA11A, 0xB08D, 0x90A5, 0x90A5, 0xA139, 0xA15A, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009,
    0xB08E, 0xA0CF, 0x9158, 0x9158, 0x80C7, 0x80C7, 0x80C7, 0x80C7, 0xA1D8, 0xB08F, 0x91BB, 0x91BB, 0xA0CE, 0xB090, 0xA1E8, 0xB091,
    0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108, 0x6108,
    0x8042, 0x8042, 0x8042, 0x8042, 0xA010, 0xB092, 0x906C, 0x906C, 0x8128, 0x8128, 0x8128, 0x8128, 0x8118, 0x8118, 0x8118, 0x8118,
    0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011, 0x6011,
    0xB093, 0xA0EF, 0x913A, 0x913A, 0x912A, 0x912A, 0xB094, 0xB095, 0x80E8, 0x80E8, 0x80E8, 0x80E8, 0x8021, 0x8021, 0x8021, 0x8021,
    0x91AB, 0x91AB, 0xB096, 0xB097, 0x802A, 0x802A, 0x802A, 0x802A, 0x816B, 0x816B, 0x816B, 0x816B, 0xB098, 0xA149, 0x908D, 0x908D,
    0x8063, 0x8063, 0x8063, 0x8063, 0xB099, 0xA0AF, 0x9168, 0x9168, 0x802B, 0x802B, 0x802B, 0x802B, 0x9178, 0x9178, 0xB09A, 0xA159,
    0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103,
    0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103, 0x5103,
    0x713B, 0x713B, 0x713B, 0x713B, 0x713B, 0x713B, 0x713B, 0x713B, 0xA16A, 0xB09B, 0x90AE, 0x90AE, 0x8119, 0x8119, 0x8119, 0x8119,
    0x804C, 0x804C, 0x804C, 0x804C, 0x9086, 0x9086, 0xB09C, 0xA17A, 0x80A7, 0x80A7, 0x80A7, 0x80A7, 0x817B, 0x817B, 0x817B, 0x817B,
    0x8138, 0x8138, 0x8138, 0x8138, 0xB09D, 0xA0C6, 0xB09E, 0xB09F, 0x80E9, 0x80E9, 0x80E9, 0x80E9, 0x9001, 0x9001, 0x91CB, 0x91CB,
    0x800A, 0x800A, 0x800A, 0x800A, 0x9188, 0x9188, 0xB0A0, 0xB0A1, 0x714B, 0x714B, 0x714B, 0x714B, 0x714B, 0x714B, 0x714B, 0x714B,
    0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A, 0x610A,
    0xB0A2, 0xA169, 0xB0A3, 0xA044, 0x9198, 0x9198, 0x91DB, 0x91DB, 0xA18A, 0xB0A4, 0x91FB, 0x91FB, 0x801A, 0x801A, 0x801A, 0x801A,
    0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008,
    0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008, 0x5008,
    0x7064, 0x7064, 0x7064, 0x7064, 0x7064, 0x7064, 0x7064, 0x7064, 0x7085, 0x7085, 0x7085, 0x7085, 0x7085, 0x7085, 0x7085, 0x7085,
    0xB0A5, 0xB0A6, 0x908E, 0x908E, 0xB0A7, 0xB0A8, 0xA1FA, 0xA19A, 0x91A8, 0x91A8, 0xB0A9, 0xB0AA, 0x804B, 0x804B, 0x804B, 0x804B,
    0x91F8, 0x91F8, 0xA1BA, 0xB0AB, 0x91EB, 0x91EB, 0xB0AC, 0xA0AD, 0x70A6, 0x70A6, 0x70A6, 0x70A6, 0x70A6, 0x70A6, 0x70A6, 0x70A6,
    0x914A, 0x914A, 0xA02C, 0xA0EA, 0x8148, 0x8148, 0x8148, 0x8148, 0x711B, 0x711B, 0x711B, 0x711B, 0x711B, 0x711B, 0x711B, 0x711B,
    0x7022, 0x7022, 0x7022, 0x7022, 0x7022, 0x7022, 0x7022, 0x7022, 0xB0AD, 0xA04D, 0x9065, 0x9065, 0x818B, 0x818B, 0x818B, 0x818B,
    0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B, 0x612B,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x91B8, 0x91B8, 0xA0E7, 0xB0AE, 0x80C8, 0x80C8, 0x80C8, 0x80C8, 0x7019, 0x7019, 0x7019, 0x7019, 0x7019, 0x7019, 0x7019, 0x7019,
    0x9102, 0x9102, 0x90FF, 0x90FF, 0xA1AA, 0xB0AF, 0x9129, 0x9129, 0x7043, 0x7043, 0x7043, 0x7043, 0x7043, 0x7043, 0x7043, 0x7043,
    0x715B, 0x715B, 0x715B, 0x715B, 0x715B, 0x715B, 0x715B, 0x715B, 0x819B, 0x819B, 0x819B, 0x819B, 0x91C8, 0x91C8, 0x9101, 0x9101,
    0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x806D, 0x806D, 0x806D, 0x806D, 0xA179, 0xB0B0, 0xB0B1, 0xA08F,
    0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109,
    0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109, 0x5109,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B,
    0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B, 0x110B
};

static const uint16_t g_tab2_dxt1[] = {
    0x80AD, 0x80AD, 0x80AD, 0x80AD, 0x90EF, 0x90EF, 0xA0FC, 0xB11B, 0x80C0, 0x80C0, 0x80C0, 0x80C0, 0x90EA, 0x90EA, 0xB11C, 0xA0E6,
    0x800A, 0x800A, 0x800A, 0x800A, 0x908D, 0x908D, 0xA03A, 0xB11D, 0x8062, 0x8062, 0x8062, 0x8062, 0x902F, 0x902F, 0x900F, 0x900F,
    0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0xA0B7, 0xA088, 0x9075, 0x9075, 0x804A, 0x804A, 0x804A, 0x804A,
    0x8052, 0x8052, 0x8052, 0x8052, 0xA016, 0xB11E, 0xA05B, 0xA07C, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040,
    0x8073, 0x8073, 0x8073, 0x8073, 0x9007, 0x9007, 0xA0CD, 0xA0CB, 0x805C, 0x805C, 0x805C, 0x805C, 0x80B5, 0x80B5, 0x80B5, 0x80B5,
    0xB11F, 0xA053, 0x906A, 0x906A, 0x8042, 0x8042, 0x8042, 0x8042, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002,
    0x81B8, 0x81B8, 0x81B8, 0x81B8, 0x902B, 0x902B, 0xB120, 0xA0D2, 0x8095, 0x8095, 0x8095, 0x8095, 0x8039, 0x8039, 0x8039, 0x8039,
    0xA06C, 0xA07E, 0x90FD, 0x90FD, 0x90A9, 0x90A9, 0xA1A8, 0xA0D4, 0x8094, 0x8094, 0x8094, 0x8094, 0xA0F6, 0xA026, 0x90EB, 0x90EB,
    0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x902C, 0x902C, 0x90CE, 0x90CE, 0xB121, 0xA098, 0x9179, 0x9179,
    0x8004, 0x8004, 0x8004, 0x8004, 0xA1E8, 0xA04D, 0x9084, 0x9084, 0x8082, 0x8082, 0x8082, 0x8082, 0xA0E5, 0xA0E4, 0xA02E, 0xA01C,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0xB122, 0xA0C5, 0x90CA, 0x90CA, 0x80A0, 0x80A0, 0x80A0, 0x80A0, 0xA071, 0xA006, 0xA0C9, 0xA0B0, 0xA0F2, 0xA00E, 0xA1C8, 0xA090,
    0x7139, 0x7139, 0x7139, 0x7139, 0x7139, 0x7139, 0x7139, 0x7139, 0x9085, 0x9085, 0x90BD, 0x90BD, 0x8128, 0x8128, 0x8128, 0x8128,
    0xA0D0, 0xA0F3, 0xA074, 0xB123, 0x90C2, 0x90C2, 0x90DF, 0x90DF, 0x807B, 0x807B, 0x807B, 0x807B, 0xA022, 0xA01E, 0x9068, 0x9068,
    0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x907A, 0x907A, 0x91BA, 0x91BA, 0xB124, 0xA0B2, 0x908A, 0x908A,
    0x713A, 0x713A, 0x713A, 0x713A, 0x713A, 0x713A, 0x713A, 0x713A, 0x9086, 0x9086, 0xA038, 0xB125, 0x809C, 0x809C, 0x809C, 0x809C,
    0x90BE, 0x90BE, 0x9081, 0x9081, 0x8056, 0x8056, 0x8056, 0x8056, 0xA036, 0xA011, 0x90D7, 0x90D7, 0x808C, 0x808C, 0x808C, 0x808C,
    0xA091, 0xA013, 0x907F, 0x907F, 0xA131, 0xB126, 0xA0ED, 0xA0B8, 0x7060, 0x7060, 0x7060, 0x7060, 0x7060, 0x7060, 0x7060, 0x7060,
    0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x91FA, 0x91FA, 0x9014, 0x9014, 0x90F0, 0x90F0, 0xA0CF, 0xB127,
    0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x9044, 0x9044, 0xA0E2, 0xB128, 0x8028, 0x8028, 0x8028, 0x8028,
    0x8024, 0x8024, 0x8024, 0x8024, 0x80A5, 0x80A5, 0x80A5, 0x80A5, 0x7025, 0x7025, 0x7025, 0x7025, 0x7025, 0x7025, 0x7025, 0x7025,
    0x90F8, 0x90F8, 0x90AB, 0x90AB, 0x81F8, 0x81F8, 0x81F8, 0x81F8, 0x90AE, 0x90AE, 0xA08E, 0xA03D, 0x906D, 0x906D, 0x9027, 0x9027,
    0xA0FB, 0xB129, 0xA0A7, 0xA03C, 0x90EE, 0x90EE, 0x90D6, 0x90D6, 0x7178, 0x7178, 0x7178, 0x7178, 0x7178, 0x7178, 0x7178, 0x7178,
    0x90DE, 0x90DE, 0x904C, 0x904C, 0xA033, 0xA09E, 0x9049, 0x9049, 0x7070, 0x7070, 0x7070, 0x7070, 0x7070, 0x7070, 0x7070, 0x7070,
    0x90AF, 0x90AF, 0xA0BA, 0xA0B1, 0x8148, 0x8148, 0x8148, 0x8148, 0x7021, 0x7021, 0x7021, 0x7021, 0x7021, 0x7021, 0x7021, 0x7021,
    0x908B, 0x908B, 0x90E8, 0x90E8, 0x8063, 0x8063, 0x8063, 0x8063, 0x802D, 0x802D, 0x802D, 0x802D, 0x91F9, 0x91F9, 0xB12A, 0xB12B,
    0x7015, 0x7015, 0x7015, 0x7015, 0x7015, 0x7015, 0x7015, 0x7015, 0x9069, 0x9069, 0xA066, 0xA0B6, 0x80A2, 0x80A2, 0x80A2, 0x80A2,
    0x9051, 0x9051, 0xA158, 0xA01F, 0x9048, 0x9048, 0xB12C, 0xA0BC, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5,
    0x7058, 0x7058, 0x7058, 0x7058, 0x7058, 0x7058, 0x7058, 0x7058, 0x81FB, 0x81FB, 0x81FB, 0x81FB, 0x9017, 0x9017, 0x90D8, 0x90D8,
    0x80E0, 0x80E0, 0x80E0, 0x80E0, 0x8045, 0x8045, 0x8045, 0x8045, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA,
    0x7050, 0x7050, 0x7050, 0x7050, 0x7050, 0x7050, 0x7050, 0x7050, 0x80FE, 0x80FE, 0x80FE, 0x80FE, 0x8083, 0x8083, 0x8083, 0x8083,
    0x7054, 0x7054, 0x7054, 0x7054, 0x7054, 0x7054, 0x7054, 0x7054, 0x91B9, 0x91B9, 0xB12D, 0xA023, 0x8065, 0x8065, 0x8065, 0x8065,
    0x7057, 0x7057, 0x7057, 0x7057, 0x7057, 0x7057, 0x7057, 0x7057, 0x9096, 0x9096, 0x9030, 0x9030, 0x805F, 0x805F, 0x805F, 0x805F,
    0x700D, 0x700D, 0x700D, 0x700D, 0x700D, 0x700D, 0x700D, 0x700D, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003,
    0xA04F, 0xB12E, 0x90DC, 0x90DC, 0x8078, 0x8078, 0x8078, 0x8078, 0xA0B4, 0xA077, 0x9168, 0x9168, 0x80F5, 0x80F5, 0x80F5, 0x80F5,
    0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100,
    0x80F7, 0x80F7, 0x80F7, 0x80F7, 0x817B, 0x817B, 0x817B, 0x817B, 0x81BB, 0x81BB, 0x81BB, 0x81BB, 0x907D, 0x907D, 0xA0A1, 0xA092,
    0x7005, 0x7005, 0x7005, 0x7005, 0x7005, 0x7005, 0x7005, 0x7005, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020,
    0x705A, 0x705A, 0x705A, 0x705A, 0x705A, 0x705A, 0x705A, 0x705A, 0x802A, 0x802A, 0x802A, 0x802A, 0x9188, 0x9188, 0xB12F, 0xA0F4,
    0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138,
    0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138, 0x5138,
    0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x9118, 0x9118, 0xA0DD, 0xA043, 0x900C, 0x900C, 0xA0D3, 0xA140,
    0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x7031, 0x817A, 0x817A, 0x817A, 0x817A, 0x80E3, 0x80E3, 0x80E3, 0x80E3,
    0x90FA, 0x90FA, 0x9072, 0x9072, 0x8130, 0x8130, 0x8130, 0x8130, 0x7041, 0x7041, 0x7041, 0x7041, 0x7041, 0x7041, 0x7041, 0x7041,
    0x90A4, 0x90A4, 0xA079, 0xB130, 0x90C7, 0x90C7, 0xA0AC, 0xA09D, 0x80C3, 0x80C3, 0x80C3, 0x80C3, 0x8089, 0x8089, 0x8089, 0x8089,
    0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001, 0x6001,
    0x80A8, 0x80A8, 0x80A8, 0x80A8, 0x9037, 0x9037, 0xA059, 0xA149, 0x700B, 0x700B, 0x700B, 0x700B, 0x700B, 0x700B, 0x700B, 0x700B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B, 0x313B,
    0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055,
    0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055, 0x5055,
    0x8061, 0x8061, 0x8061, 0x8061, 0xB131, 0xA0C8, 0x90BF, 0x90BF, 0x805E, 0x805E, 0x805E, 0x805E, 0xB132, 0xB133, 0x905D, 0x905D,
    0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x7035, 0x80C6, 0x80C6, 0x80C6, 0x80C6, 0xA093, 0xA0EC, 0xB134, 0xA01A,
    0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101, 0x6101,
    0x706B, 0x706B, 0x706B, 0x706B, 0x706B, 0x706B, 0x706B, 0x706B, 0x80E7, 0x80E7, 0x80E7, 0x80E7, 0x90A3, 0x90A3, 0x9019, 0x9019,
    0xA06F, 0xB135, 0x9097, 0x9097, 0x80A6, 0x80A6, 0x80A6, 0x80A6, 0xA012, 0xA0C1, 0x9034, 0x9034, 0x903F, 0x903F, 0xA0E9, 0xB136,
    0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF
};

static const uint16_t g_tab2_dxt23[] = {
    0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055,
    0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF,
    0x915B, 0x915B, 0xB107, 0xA069, 0x902D, 0x902D, 0xB108, 0xA0B2, 0x8029, 0x8029, 0x8029, 0x8029, 0xA071, 0xA0CB, 0xB109, 0xA092,
    0xA034, 0xA1FA, 0xA068, 0xB10A, 0x9078, 0x9078, 0xB10B, 0xA08E, 0x80B5, 0x80B5, 0x80B5, 0x80B5, 0x80D5, 0x80D5, 0x80D5, 0x80D5,
    0x90F5, 0x90F5, 0xB10C, 0xB10D, 0x8060, 0x8060, 0x8060, 0x8060, 0x907F, 0x907F, 0x90E0, 0x90E0, 0x8021, 0x8021, 0x8021, 0x8021,
    0xA081, 0xA04D, 0xA0FA, 0xB10E, 0x8057, 0x8057, 0x8057, 0x8057, 0x9084, 0x9084, 0xA108, 0xB10F, 0x8070, 0x8070, 0x8070, 0x8070,
    0x905F, 0x905F, 0x90BE, 0x90BE, 0x8009, 0x8009, 0x8009, 0x8009, 0xA06D, 0xA0D0, 0xA0CF, 0xB110, 0x8054, 0x8054, 0x8054, 0x8054,
    0x90A8, 0x90A8, 0x90D7, 0x90D7, 0x902A, 0x902A, 0xA14B, 0xA0A3, 0x8153, 0x8153, 0x8153, 0x8153, 0x9062, 0x9062, 0x90E3, 0x90E3,
    0xB111, 0xA0FC, 0x9128, 0x9128, 0x80EF, 0x80EF, 0x80EF, 0x80EF, 0x8015, 0x8015, 0x8015, 0x8015, 0xA0C2, 0xB112, 0x9028, 0x9028,
    0x8041, 0x8041, 0x8041, 0x8041, 0x905D, 0x905D, 0xB113, 0xA02B, 0x8031, 0x8031, 0x8031, 0x8031, 0x9170, 0x9170, 0xB114, 0xA072,
    0x80AD, 0x80AD, 0x80AD, 0x80AD, 0x8073, 0x8073, 0x8073, 0x8073, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001,
    0xB115, 0xA03F, 0x9045, 0x9045, 0x8025, 0x8025, 0x8025, 0x8025, 0xA08D, 0xA1E8, 0x910B, 0x910B, 0x9024, 0x9024, 0x90FB, 0x90FB,
    0x7102, 0x7102, 0x7102, 0x7102, 0x7102, 0x7102, 0x7102, 0x7102, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB,
    0x80E7, 0x80E7, 0x80E7, 0x80E7, 0xB116, 0xB117, 0x907D, 0x907D, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0xB118, 0xB119, 0xA085, 0xA0B0, 0x9030, 0x9030, 0x905E, 0x905E, 0xB11A, 0xB11B, 0x9075, 0x9075, 0x8058, 0x8058, 0x8058, 0x8058,
    0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010,
    0x90FD, 0x90FD, 0x909E, 0x909E, 0xB11C, 0xA03A, 0xA07E, 0xA0A4, 0x8035, 0x8035, 0x8035, 0x8035, 0x8082, 0x8082, 0x8082, 0x8082,
    0xB11D, 0xA0D8, 0xB11E, 0xA07C, 0x8003, 0x8003, 0x8003, 0x8003, 0x800D, 0x800D, 0x800D, 0x800D, 0x80F0, 0x80F0, 0x80F0, 0x80F0,
    0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163,
    0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163,
    0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163,
    0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163, 0x4163,
    0x8039, 0x8039, 0x8039, 0x8039, 0x90BF, 0x90BF, 0xB11F, 0xA088, 0x805A, 0x805A, 0x805A, 0x805A, 0x80A5, 0x80A5, 0x80A5, 0x80A5,
    0xB120, 0xB121, 0xB122, 0xA090, 0x8042, 0x8042, 0x8042, 0x8042, 0xA037, 0xA0B7, 0x9065, 0x9065, 0x8050, 0x8050, 0x8050, 0x8050,
    0xA011, 0xB123, 0x90A6, 0x90A6, 0x8005, 0x8005, 0x8005, 0x8005, 0x805C, 0x805C, 0x805C, 0x805C, 0x80D6, 0x80D6, 0x80D6, 0x80D6,
    0x9173, 0x9173, 0xA0D4, 0xA05B, 0x8094, 0x8094, 0x8094, 0x8094, 0xA048, 0xB124, 0x908A, 0x908A, 0x80CE, 0x80CE, 0x80CE, 0x80CE,
    0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101,
    0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101,
    0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101,
    0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101, 0x4101,
    0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178,
    0xB125, 0xA0DC, 0x9059, 0x9059, 0x9096, 0x9096, 0xB126, 0xB127, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A,
    0x81F8, 0x81F8, 0x81F8, 0x81F8, 0x90BA, 0x90BA, 0x9051, 0x9051, 0x80BD, 0x80BD, 0x80BD, 0x80BD, 0x80A0, 0x80A0, 0x80A0, 0x80A0,
    0x90AB, 0x90AB, 0x9007, 0x9007, 0x9014, 0x9014, 0xA03D, 0xA0C5, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179,
    0x909A, 0x909A, 0x9086, 0x9086, 0x809C, 0x809C, 0x809C, 0x809C, 0x804A, 0x804A, 0x804A, 0x804A, 0x8143, 0x8143, 0x8143, 0x8143,
    0xA019, 0xB128, 0xA158, 0xA027, 0x8052, 0x8052, 0x8052, 0x8052, 0x806B, 0x806B, 0x806B, 0x806B, 0x9038, 0x9038, 0x906A, 0x906A,
    0xB129, 0xA0A7, 0xB12A, 0xB12B, 0x80DE, 0x80DE, 0x80DE, 0x80DE, 0x8188, 0x8188, 0x8188, 0x8188, 0x901C, 0x901C, 0x90AF, 0x90AF,
    0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100, 0x6100,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x80DF, 0x80DF, 0x80DF, 0x80DF, 0x907A, 0x907A, 0xA0BB, 0xB12C, 0x80FE, 0x80FE, 0x80FE, 0x80FE, 0x80C0, 0x80C0, 0x80C0, 0x80C0,
    0x80C6, 0x80C6, 0x80C6, 0x80C6, 0x800F, 0x800F, 0x800F, 0x800F, 0xA017, 0xA08B, 0xA0CA, 0xB12D, 0x8063, 0x8063, 0x8063, 0x8063,
    0x9079, 0x9079, 0x90EA, 0x90EA, 0x807B, 0x807B, 0x807B, 0x807B, 0x800A, 0x800A, 0x800A, 0x800A, 0x90F3, 0x90F3, 0xA0F4, 0xB12E,
    0x808C, 0x808C, 0x808C, 0x808C, 0x902C, 0x902C, 0xA138, 0xA022, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018,
    0x8095, 0x8095, 0x8095, 0x8095, 0x9049, 0x9049, 0x91F9, 0x91F9, 0x70F7, 0x70F7, 0x70F7, 0x70F7, 0x70F7, 0x70F7, 0x70F7, 0x70F7,
    0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x7040, 0x90EB, 0x90EB, 0x903C, 0x903C, 0x800B, 0x800B, 0x800B, 0x800B,
    0x90DB, 0x90DB, 0x90F8, 0x90F8, 0xA098, 0xB12F, 0x90A9, 0x90A9, 0x80A2, 0x80A2, 0x80A2, 0x80A2, 0xA109, 0xA097, 0x9083, 0x9083,
    0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080,
    0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103,
    0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103,
    0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103,
    0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103, 0x4103,
    0x8168, 0x8168, 0x8168, 0x8168, 0x8004, 0x8004, 0x8004, 0x8004, 0xA044, 0xB130, 0x90AE, 0x90AE, 0x8056, 0x8056, 0x8056, 0x8056,
    0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0xA0E4, 0xB131, 0x90E8, 0x90E8, 0x8061, 0x8061, 0x8061, 0x8061,
    0x8118, 0x8118, 0x8118, 0x8118, 0x90C7, 0x90C7, 0xA0A1, 0xB132, 0x80C3, 0x80C3, 0x80C3, 0x80C3, 0x9131, 0x9131, 0x902F, 0x902F,
    0x9089, 0x9089, 0x90B6, 0x90B6, 0x900C, 0x900C, 0xA0E2, 0xB133, 0xA006, 0xA0E6, 0xB134, 0xA0B8, 0x9077, 0x9077, 0x90D3, 0x90D3
};

static const uint16_t g_tab2_dxt45[] = {
    0xA0E9, 0xA017, 0x90AE, 0x90AE, 0x80DB, 0x80DB, 0x80DB, 0x80DB, 0x80B6, 0x80B6, 0x80B6, 0x80B6, 0x8082, 0x8082, 0x8082, 0x8082,
    0x91F9, 0x91F9, 0x9035, 0x9035, 0x8103, 0x8103, 0x8103, 0x8103, 0x900E, 0x900E, 0xA0F1, 0xA0D2, 0x9058, 0x9058, 0xA03C, 0xA09A,
    0x906A, 0x906A, 0x907A, 0x907A, 0x80F5, 0x80F5, 0x80F5, 0x80F5, 0x9006, 0x9006, 0xA064, 0xA034, 0x8057, 0x8057, 0x8057, 0x8057,
    0x800B, 0x800B, 0x800B, 0x800B, 0x8031, 0x8031, 0x8031, 0x8031, 0x9102, 0x9102, 0x9015, 0x9015, 0x9069, 0x9069, 0x908A, 0x908A,
    0x7024, 0x7024, 0x7024, 0x7024, 0x7024, 0x7024, 0x7024, 0x7024, 0x8041, 0x8041, 0x8041, 0x8041, 0xA07C, 0xB11F, 0x9070, 0x9070,
    0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178, 0x6178,
    0x80BF, 0x80BF, 0x80BF, 0x80BF, 0x90A5, 0x90A5, 0x9095, 0x9095, 0x806D, 0x806D, 0x806D, 0x806D, 0xA09E, 0xA03D, 0x9075, 0x9075,
    0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x70AA, 0x91FA, 0x91FA, 0x90D7, 0x90D7, 0x8021, 0x8021, 0x8021, 0x8021,
    0xA053, 0xA044, 0x9084, 0x9084, 0x80FD, 0x80FD, 0x80FD, 0x80FD, 0x8040, 0x8040, 0x8040, 0x8040, 0x907E, 0x907E, 0x9072, 0x9072,
    0x9023, 0x9023, 0x9050, 0x9050, 0x905C, 0x905C, 0x901B, 0x901B, 0x7049, 0x7049, 0x7049, 0x7049, 0x7049, 0x7049, 0x7049, 0x7049,
    0x90BE, 0x90BE, 0x905D, 0x905D, 0x9054, 0x9054, 0xA066, 0xB120, 0x80FA, 0x80FA, 0x80FA, 0x80FA, 0x90FC, 0x90FC, 0xA016, 0xA0E6,
    0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x7002, 0x807F, 0x807F, 0x807F, 0x807F, 0x909C, 0x909C, 0x90D8, 0x90D8,
    0x907D, 0x907D, 0xA0F4, 0xA043, 0x9007, 0x9007, 0x9089, 0x9089, 0x805A, 0x805A, 0x805A, 0x805A, 0xA0BC, 0xA037, 0x9030, 0x9030,
    0x904D, 0x904D, 0x90D6, 0x90D6, 0x80AF, 0x80AF, 0x80AF, 0x80AF, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008, 0x7008,
    0x805F, 0x805F, 0x805F, 0x805F, 0xA059, 0xA04C, 0x90ED, 0x90ED, 0x908B, 0x908B, 0x90C7, 0x90C7, 0x90F0, 0x90F0, 0xA0B3, 0xA081,
    0x800D, 0x800D, 0x800D, 0x800D, 0x80EF, 0x80EF, 0x80EF, 0x80EF, 0x9056, 0x9056, 0xA0CA, 0xA0B9, 0x802D, 0x802D, 0x802D, 0x802D,
    0x80B5, 0x80B5, 0x80B5, 0x80B5, 0xB121, 0xA04B, 0x90BA, 0x90BA, 0x80AB, 0x80AB, 0x80AB, 0x80AB, 0x80AD, 0x80AD, 0x80AD, 0x80AD,
    0x9026, 0x9026, 0xA032, 0xA0B8, 0x909B, 0x909B, 0x9086, 0x9086, 0x8062, 0x8062, 0x8062, 0x8062, 0x80A0, 0x80A0, 0x80A0, 0x80A0,
    0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7010, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179, 0x7179,
    0x90A3, 0x90A3, 0x906C, 0x906C, 0x9077, 0x9077, 0x90E3, 0x90E3, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A, 0x717A,
    0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF, 0x60FF,
    0x8039, 0x8039, 0x8039, 0x8039, 0xA111, 0xA098, 0x9019, 0x9019, 0xA085, 0xA074, 0x90CF, 0x90CF, 0x8052, 0x8052, 0x8052, 0x8052,
    0x9036, 0x9036, 0x90DE, 0x90DE, 0x903A, 0x903A, 0x90A6, 0x90A6, 0x807B, 0x807B, 0x807B, 0x807B, 0xA0D1, 0xA0C5, 0x90E4, 0x90E4,
    0x80F7, 0x80F7, 0x80F7, 0x80F7, 0x908E, 0x908E, 0x908D, 0x908D, 0x9022, 0x9022, 0xA099, 0xA01E, 0x804A, 0x804A, 0x804A, 0x804A,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B, 0x317B,
    0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x7001, 0x9065, 0x9065, 0x9014, 0x9014, 0x90F9, 0x90F9, 0x9068, 0x9068,
    0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0x7020, 0xA0D4, 0xB122, 0x90EE, 0x90EE, 0x80EA, 0x80EA, 0x80EA, 0x80EA,
    0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055, 0x6055,
    0x8060, 0x8060, 0x8060, 0x8060, 0x90D0, 0x90D0, 0x90F6, 0x90F6, 0x9013, 0x9013, 0x9071, 0x9071, 0xA0C8, 0xA033, 0x90B0, 0x90B0,
    0x8090, 0x8090, 0x8090, 0x8090, 0x80E0, 0x80E0, 0x80E0, 0x80E0, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB, 0x71FB,
    0x8063, 0x8063, 0x8063, 0x8063, 0x9093, 0x9093, 0x902C, 0x902C, 0x802A, 0x802A, 0x802A, 0x802A, 0x806B, 0x806B, 0x806B, 0x806B,
    0x8073, 0x8073, 0x8073, 0x8073, 0x901C, 0x901C, 0xA046, 0xB123, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080, 0x7080,
    0x9045, 0x9045, 0x90C9, 0x90C9, 0x90BB, 0x90BB, 0x90A4, 0x90A4, 0x80FB, 0x80FB, 0x80FB, 0x80FB, 0xA087, 0xA0CC, 0x9079, 0x9079,
    0x8168, 0x8168, 0x8168, 0x8168, 0x91E8, 0x91E8, 0x90B1, 0x90B1, 0x8012, 0x8012, 0x8012, 0x8012, 0x9051, 0x9051, 0x901D, 0x901D,
    0x80DF, 0x80DF, 0x80DF, 0x80DF, 0x8025, 0x8025, 0x8025, 0x8025, 0x90E2, 0x90E2, 0x90B7, 0x90B7, 0x9097, 0x9097, 0xB124, 0xA067,
    0x80A8, 0x80A8, 0x80A8, 0x80A8, 0x90B2, 0x90B2, 0x909D, 0x909D, 0x9110, 0x9110, 0x90AC, 0x90AC, 0x8042, 0x8042, 0x8042, 0x8042,
    0x90DD, 0x90DD, 0x904E, 0x904E, 0x9076, 0x9076, 0x9170, 0x9170, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009, 0x7009,
    0x9011, 0x9011, 0x905B, 0x905B, 0x802F, 0x802F, 0x802F, 0x802F, 0x7092, 0x7092, 0x7092, 0x7092, 0x7092, 0x7092, 0x7092, 0x7092,
    0x90C6, 0x90C6, 0x90C4, 0x90C4, 0x8028, 0x8028, 0x8028, 0x8028, 0x80E7, 0x80E7, 0x80E7, 0x80E7, 0xA0A1, 0xA0D9, 0x90F3, 0x90F3,
    0x80A2, 0x80A2, 0x80A2, 0x80A2, 0x8005, 0x8005, 0x8005, 0x8005, 0x8078, 0x8078, 0x8078, 0x8078, 0x90A9, 0x90A9, 0x90E5, 0x90E5,
    0x71F8, 0x71F8, 0x71F8, 0x71F8, 0x71F8, 0x71F8, 0x71F8, 0x71F8, 0x90CB, 0x90CB, 0xB125, 0xB126, 0x80EB, 0x80EB, 0x80EB, 0x80EB,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000, 0x5000,
    0x906E, 0x906E, 0x90DA, 0x90DA, 0x901F, 0x901F, 0x903B, 0x903B, 0x908F, 0x908F, 0x90CE, 0x90CE, 0x8094, 0x8094, 0x8094, 0x8094,
    0x700A, 0x700A, 0x700A, 0x700A, 0x700A, 0x700A, 0x700A, 0x700A, 0x803F, 0x803F, 0x803F, 0x803F, 0x80BD, 0x80BD, 0x80BD, 0x80BD,
    0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101,
    0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101, 0x5101,
    0x805E, 0x805E, 0x805E, 0x805E, 0x8173, 0x8173, 0x8173, 0x8173, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100, 0x7100,
    0x902E, 0x902E, 0x9096, 0x9096, 0xB127, 0xA160, 0x90EC, 0x90EC, 0x9038, 0x9038, 0x90F2, 0x90F2, 0x8083, 0x8083, 0x8083, 0x8083,
    0x800F, 0x800F, 0x800F, 0x800F, 0x90A7, 0x90A7, 0x901A, 0x901A, 0x70FE, 0x70FE, 0x70FE, 0x70FE, 0x70FE, 0x70FE, 0x70FE, 0x70FE,
    0x8048, 0x8048, 0x8048, 0x8048, 0x8027, 0x8027, 0x8027, 0x8027, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018, 0x7018,
    0x909F, 0x909F, 0x90C2, 0x90C2, 0x80E8, 0x80E8, 0x80E8, 0x80E8, 0x808C, 0x808C, 0x808C, 0x808C, 0x80C0, 0x80C0, 0x80C0, 0x80C0,
    0x7004, 0x7004, 0x7004, 0x7004, 0x7004, 0x7004, 0x7004, 0x7004, 0x9091, 0x9091, 0xA180, 0xB128, 0x8188, 0x8188, 0x8188, 0x8188,
    0x9088, 0x9088, 0x90B4, 0x90B4, 0x80F8, 0x80F8, 0x80F8, 0x80F8, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029, 0x7029,
    0x904F, 0x904F, 0xA0E1, 0xA0C1, 0x8061, 0x8061, 0x8061, 0x8061, 0x802B, 0x802B, 0x802B, 0x802B, 0x90DC, 0x90DC, 0xA143, 0xB129,
    0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x70D5, 0x800C, 0x800C, 0x800C, 0x800C, 0x80C3, 0x80C3, 0x80C3, 0x80C3,
    0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x7003, 0x90D3, 0x90D3, 0x903E, 0x903E, 0x906F, 0x906F, 0x90CD, 0x90CD
};

void ctx_init(ctx_t *ctx, uint32_t offset, const uint8_t *srcptr)
{
    uint8_t shift = offset & (32 - 1);

    ctx->srcptr = srcptr + 4 * (offset >> 5);
    ctx->srcdword = *((uint32_t*)ctx->srcptr) << shift;
    ctx->srcptr += 4;
    ctx->srcbits = 32 - shift;

    ctx->idxcode = 0;
    ctx->idxbits = 0;
}

void ctx_reset(ctx_t *ctx, int32_t numbits, const uint32_t *tab1, const uint16_t *tab2)
{
    ctx->tab1 = tab1;
    ctx->tab2 = tab2;
    ctx->numbits = numbits;
    ctx->buflen = 0;
    ctx->lookupmask = (1 << numbits) - 1;
    ctx->bufend = 0;
    ctx->bufpos = 0;
}

uint32_t readbits(ctx_t *ctx, int32_t numbits)
{
    uint32_t result;

    uint32_t curdword = ctx->srcdword;

    ctx->srcbits -= numbits;
    if (ctx->srcbits < 0) {
        ctx->srcdword = *((uint32_t*)ctx->srcptr);
        ctx->srcptr += 4;

        result = ((curdword >> (32 - ctx->srcbits - numbits)) << -ctx->srcbits) | (ctx->srcdword >> (32 + ctx->srcbits));
        ctx->srcdword <<= -ctx->srcbits;
        ctx->srcbits += 32;
    }
    else {
        result = curdword >> (32 - numbits);
        ctx->srcdword = curdword << numbits;
    }

    return result;
}

int decode(ctx_t *ctx, int numbytes, uint8_t *dst)
{
    uint32_t curcode = 0, curbits = 0;
    uint8_t *curdst = dst;

    if (!numbytes) {
        return 0;
    }

    while (--numbytes > 0) {
        // Read next compression code.
        if (ctx->bufend == ctx->bufpos) {
            ctx->idxcode |= readbits(ctx, ctx->numbits - ctx->idxbits);

            ctx->idxbits = ctx->numbits;
            curbits = CDDS_TAB2_BITS(ctx->tab2[ctx->idxcode & ctx->lookupmask]);
            curcode = CDDS_TAB2_CODE(ctx->tab2[ctx->idxcode & ctx->lookupmask]);

            if (curbits > ctx->numbits) {
                while (curcode < CDDS_TAB1_MAX) {
                    if (readbits(ctx, 1) == 1) {
                        curcode += (uint16_t)(ctx->tab1[curcode] >> 16) + 1;
                    }
                    else {
                        curcode += (uint16_t)ctx->tab1[curcode] + 1;
                    }
                }

                --curbits;
                curcode -= 0x1FF;
            }

            ctx->idxbits  -= curbits;
            ctx->idxcode <<= curbits;

            // Write single byte.
            if (curcode < 0x100) {
                *(++curdst) = (uint8_t)curcode;
                ctx->buf[ctx->buflen] = (uint8_t)curcode;
                ctx->buflen = (ctx->buflen + 1) & CDDS_BUFMASK;
            }
            // Copy from buffer.
            else {
                ctx->bufpos = (ctx->buflen - CDDS_SEQ_LOOKBACK(curcode) - 1) & CDDS_BUFMASK;
                ctx->bufend = (ctx->bufpos + CDDS_SEQ_LENGTH(curcode)   + 2) & CDDS_BUFMASK;
                ++numbytes;

                while (numbytes && (ctx->bufpos != ctx->bufend)) {
                    *(++curdst) = ctx->buf[ctx->bufpos];
                    ctx->buf[ctx->buflen] = ctx->buf[ctx->bufpos];
                    ctx->bufpos = (ctx->bufpos + 1) & CDDS_BUFMASK;
                    ctx->buflen = (ctx->buflen + 1) & CDDS_BUFMASK;
                    --numbytes;
                }

                if (ctx->bufpos != ctx->bufend) {
                    return numbytes;
                }
            }
        }
    }

    return numbytes;
}

int cdds_decode(const uint8_t *srcData, uint32_t srcLen, uint8_t **dstData, uint32_t *dstLen, int verbosity)
{
    ctx_t ctx;
    ddshdr_t hdr;
    int retval = 0;

    ctx_init(&ctx, 0, srcData);
    ctx_reset(&ctx, 10, g_tab1_hdr, g_tab2_hdr);

    if (ctx.srcdword != CDDS_MAGIC) {
        return CDDS_ERR_WRONGTYPE;
    }

    // Decode header.
    retval = decode(&ctx, sizeof(hdr), (uint8_t*)&hdr - 1);

    if (retval < -1) {
        return CDDS_ERR_EOFHDR;
    }
    else if (retval > -1) {
        return CDDS_ERR_INVALIDHDR;
    }

    if (hdr.magic != CDDS_DDS_MAGIC) {
        return CDDS_ERR_INVALIDHDR;
    }

    if (verbosity > 1) {
        printf("  header (%lu bytes)\n",    sizeof(hdr));
        printf("    magic:     \"%.4s\"\n", (char*)&hdr.magic);
        printf("    size:      %d\n",       hdr.size);
        printf("    flags:     %#.8x\n",    hdr.flags);
        printf("    height:    %d\n",       hdr.height);
        printf("    width:     %d\n",       hdr.width);
        printf("    plsize:    %d\n",       hdr.plsize);
        printf("    depth:     %d\n",       hdr.depth);
        printf("    mips:      %d\n\n",     hdr.mips);

        printf("    pixel format\n");
        printf("      size:    %d\n",       hdr.pxfmt.size);
        printf("      flags:   %#.8x\n",    hdr.pxfmt.flags);
        printf("      fourcc:  \"%.4s\" (%#.8x)\n", (char*)&hdr.pxfmt.fourcc, hdr.pxfmt.fourcc);
        printf("      rgbbits: %d\n",       hdr.pxfmt.rgbbits);
        printf("      rmask:   %#.8x\n",    hdr.pxfmt.rmask);
        printf("      gmask:   %#.8x\n",    hdr.pxfmt.gmask);
        printf("      bmask:   %#.8x\n",    hdr.pxfmt.bmask);
        printf("      amask:   %#.8x\n\n",  hdr.pxfmt.amask);

        printf("    caps\n");
        printf("      caps1:   %#.8x\n",    hdr.caps.caps1);
        printf("      caps2:   %#.8x\n\n",  hdr.caps.caps2);
    }

    const uint32_t *tab1;
    const uint16_t *tab2;
    int bpp;
    int texel;

    switch (hdr.pxfmt.fourcc) {
        case CDDS_FMT_DXT1:
            tab1 = g_tab1_dxt1;
            tab2 = g_tab2_dxt1;
            bpp = 4;
            texel = 1;
            break;

        case CDDS_FMT_DXT2:
        case CDDS_FMT_DXT3:
            tab1 = g_tab1_dxt23;
            tab2 = g_tab2_dxt23;
            bpp = 8;
            texel = 1;
            break;

        case CDDS_FMT_DXT4:
        case CDDS_FMT_DXT5:
            tab1 = g_tab1_dxt45;
            tab2 = g_tab2_dxt45;
            bpp = 8;
            texel = 1;
            break;

        default:
            if (hdr.pxfmt.flags & CDDS_FLG_FOURCC) {
                return CDDS_ERR_UNSUPPFMT;
            }

            tab1 = g_tab1_rgb;
            tab2 = g_tab2_rgb;
            bpp = hdr.pxfmt.rgbbits;
            texel = 0;
            break;
    }

    // Find data length for texture/cube/volume with mips at given dimentions/bpp.
    uint32_t images = 1;

    if (hdr.caps.caps2 & CDDS_CAP_CUBE) {
        images = 0;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_POSX) ++images;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_NEGX) ++images;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_POSY) ++images;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_NEGY) ++images;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_POSZ) ++images;
        if (hdr.caps.caps2 & CDDS_CAP_CUBE_NEGZ) ++images;
    }

    uint32_t imglen = 0;
    uint32_t mips = hdr.mips ? hdr.mips : 1;

    for (uint32_t mip = 0; mip < mips; ++mip) {
        uint32_t width  = CDDS_MAX(hdr.width  >> mip, 1);
        uint32_t height = CDDS_MAX(hdr.height >> mip, 1);
        uint32_t slices = (hdr.caps.caps2 & CDDS_CAP_VOLUME) && (hdr.depth >> mip) ? (hdr.depth >> mip) : 1;

        if (texel) {
            imglen += ((width + 3) / 4) * ((height + 3) / 4) * bpp * 2 * slices * images;
        }
        else {
            imglen += (width * height * bpp) / 8 * slices * images;
        }
    }

    if (verbosity > 1) {
        printf("  image data (%u bytes)\n\n", imglen);
    }

    *dstLen = sizeof(hdr) + imglen;

    if ((*dstData = (uint8_t*)malloc(*dstLen)) == NULL) {
        return CDDS_ERR_MEM;
    }

    memcpy(*dstData, &hdr, sizeof(hdr));

    ctx_reset(&ctx, 10, tab1, tab2);
    retval = decode(&ctx, imglen, *dstData + sizeof(hdr) - 1);

    if (retval < -1) {
        return CDDS_ERR_EOFIMG;
    }
    else if (retval > 0) {
        return CDDS_ERR_INVALIDIMG;
    }

    return 0;
}

void panic(const char *fmt)
{
    fprintf(stderr, "%s", fmt);
    abort();
}

void usage()
{
    fprintf(stderr, CDDS_USAGE);
    exit(CDDS_ERR_USAGE);
}

int main(int argc, const char* argv[])
{
    char *srcFileName = NULL, *dstFileName = NULL;
    FILE *srcFile, *dstFile;
    uint8_t *srcData, *dstData = NULL;
    uint32_t srcLen, dstLen;
    int retval;
    int verbosity = 1;

    // Parse options.
    for (int i = 1; i < argc; ++i) {
        // Switches
        if (argv[i][0] == '-') {
            for (int j = 1; argv[i][j] != 0; ++j) {
                switch (argv[i][j]) {
                    case 'h':
                    case '?':
                        printf(CDDS_BANNER);
                        printf(CDDS_USAGE"\n");
                        printf("Options:\n");
                        printf("  -v    increase verbosity\n");
                        printf("  -q    quiet\n");
                        printf("  -?    this helpful output\n\n");
                        return 0;

                    case 'v':
                        ++verbosity;
                        break;

                    case 'q':
                        verbosity = 0;
                        break;

                    default:
                        usage();
                }
                if (argv[i][j] == 'h' || argv[i][j] == '?') {
                    printf(CDDS_BANNER);
                    printf(CDDS_USAGE"\n");
                    return 0;
                }
            }
        }
        else if (srcFileName == NULL) {
            srcFileName = (char*)argv[i];
        }
        else if (dstFileName == NULL) {
            dstFileName = (char*)argv[i];
        }
        else {
            usage();
        }
    }

    if (verbosity) {
        printf(CDDS_BANNER);
    }

    // No input file name given.
    if (srcFileName == NULL) {
        usage();
    }

    // Generate output file name if not specified.
    if (dstFileName == NULL) {
        char *srcExt = ".cdds";
        char *dstExt = ".dds";
        size_t lenSrcName = strlen(srcFileName);
        size_t lenSrcExt = strlen(srcExt);
        size_t lenDstExt = strlen(dstExt);

        dstFileName = (char*)malloc(lenSrcName + lenDstExt + 1);
        strncpy(dstFileName, srcFileName, lenSrcName + 1);

        // Replace ".cdds" extension with ".dds".
        if ((lenSrcName > lenSrcExt) && !strncmp(srcFileName + lenSrcName - lenSrcExt, srcExt, lenSrcExt)) {
            strncpy(dstFileName + lenSrcName - lenSrcExt, dstExt, lenDstExt + 1);
        }
        // Append ".dds" extension if input file don't ends with ".cdds".
        else {
            strncpy(dstFileName + lenSrcName, dstExt, lenDstExt + 1);
        }
    }

    if ((srcFile = fopen(srcFileName, "rb")) == NULL) {
        fprintf(stderr, "Error: Can't open input file \"%s\".\n", srcFileName);
        return CDDS_ERR_OPEN;
    }

    if (fseek(srcFile, 0, SEEK_END) != 0) {
        panic("fseek() failed.\n");
    }

    if ((srcLen = ftell(srcFile)) == -1) {
        panic("ftell() failed.\n");
    }

    if (fseek(srcFile, 0, SEEK_SET) != 0) {
        panic("fseek() failed.\n");
    }

    if ((srcData = (uint8_t*)malloc(srcLen)) == NULL) {
        panic("malloc() failed.\n");
    }

    if (verbosity) {
        printf("Reading \"%s\" (%d bytes)\n", srcFileName, srcLen);
    }

    if (fread(srcData, 1, srcLen, srcFile) != srcLen) {
        fprintf(stderr, "Error: Can't read input file \"%s\".\n", srcFileName);
        return CDDS_ERR_READ;
    }

    if (fclose(srcFile) != 0) {
        panic("fclose() failed.\n");
    }

    if ((retval = cdds_decode(srcData, srcLen, &dstData, &dstLen, verbosity)) == 0) {
        if (verbosity) {
            printf("Writing \"%s\" (%d bytes)\n", dstFileName, dstLen);
        }

        if ((dstFile = fopen(dstFileName, "wb")) == NULL) {
            fprintf(stderr, "Error: Can't create output file \"%s\".\n", dstFileName);
            return CDDS_ERR_OPEN;
        }

        if (fwrite(dstData, 1, dstLen, dstFile) != dstLen) {
            fprintf(stderr, "Error: Can't write output file \"%s\".\n", dstFileName);
            return CDDS_ERR_WRITE;
        }

        if (fclose(dstFile) != 0) {
            panic("fclose failed.\n");
        }
    }
    else {
        switch (retval) {
            case CDDS_ERR_WRONGTYPE:
                fprintf(stderr, "Error: Not a valid CDDS file\n");
                break;

            case CDDS_ERR_MEM:
                fprintf(stderr, "Error: Couldn't allocate memory.\n");
                break;

            default:
                fprintf(stderr, "Error: Decoding failed.\n");
                break;
        }
    }

    free(srcData);
    free(dstData);

    return retval;
}

